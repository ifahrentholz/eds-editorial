{"version":3,"mappings":"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","names":["setupHlxObj","mainScriptPath","scriptEl","error","addClasses","element","classes","cssClass","toClassName","getMetadata","value","doc","attr","meta","metaElement","decorateTemplateAndTheme","template","theme","decorateButtons","a","up","twoup","undefinedOnEmpty","setDocLanguage","lang","collectBlocks","section","blockMap","block","loadBlockModules","href","getUrlForEndpoint","blockModule","DebuggerService","loadCSS","endpoint","resolve","reject","link","loadBlockStyles","config","showSection","waitForLCP","firstSection","lcpBlocks","blockPromises","lcpCandidate","getLocation","isSidekickLibraryActive","loadFonts","fontsCssPath","e","HLX","cb","beforeLoadEagerTask","loadEagerTask","main","beforeLoadLazyTask","defaultTask","loadDelayedTask","initializedTask","HLX$1","i","o","f","s","_a","r","c","h","n","t","_b","h$1","SidebarNav","LitElement","entry","key","PlaceholderService","html","currentTarget","item","renderIcon","child","queryIndex","filterValues","term","siteMapEntries","groups","firstLevelPath","FetchService","filteredNavigation","groupItems","group","__decorateClass","state","customElement","SidebarContact","contactHtml","parser","contactHtmlString","headline","nothing","text","contacts","contact","icon","markup","contactsElement","contactElement","unsafeHTML","SidebarPosts","posts","sitemapEntry","nextSitemapEntry","siteMapEntry","picture","createOptimizedPicture","SidebarFooter","response","responseMarkup","SidebarComponent","createRef","ref","addSidebarContainer","sidebarContainer","replaceBySpecifier","input","specifier","htmlTag","part","index","HeaderComponent","_changedProperties","leftCol","rightCol","logoText","logoTextHTML","m","ICONS_PATH","modules","Icon","name","iconMarkupFunc","iconMarkup","unsafeSVG","svg","until","css","property","BlockService","row","cols","col","as","imgs","img","ps","p","shortBlockName","blockWrapper","toCamelCase","g","SectionService","blockService","container","sectionMeta","style","wrappers","defaultContent","wrapper","parentElement","_Status","Status","MainService","sectionService","lazyStylesScssPath","sidekickLibraryStylesScssPath","fontsScssPath","SectionsPromises","children","sectionsBlocks"],"sources":["../../src/app/tasks/setupHlxObj.ts","../../src/utils/addClasses.ts","../../src/utils/getMetadata.ts","../../src/app/tasks/decorateTemplateAndTheme.ts","../../src/app/tasks/decorateButtons.ts","../../src/utils/undefinedOnEmpty.ts","../../src/app/tasks/setDocLanguage.ts","../../src/app/tasks/collectBlocks.ts","../../src/app/tasks/loadBlockModules.ts","../../src/app/tasks/loadCSS.ts","../../src/app/tasks/loadBlockStyles.ts","../../config.ts","../../src/app/tasks/showSection.ts","../../src/app/tasks/waitForLCP.ts","../../src/helpers/sidekick/getLocation.ts","../../src/app/tasks/loadFonts.ts","../../src/app/index.ts","../../node_modules/lit-html/directive-helpers.js","../../node_modules/lit-html/async-directive.js","../../node_modules/lit-html/directives/ref.js","../../src/components/sidebar/sidebarNav.ts","../../src/components/sidebar/sidebarContact.ts","../../src/components/sidebar/sidebarPosts.ts","../../src/components/sidebar/sidebarFooter.ts","../../src/components/sidebar/sidebar.ts","../../src/components/sidebar/sidebar.init.ts","../../src/utils/replaceBySpecifier.ts","../../src/components/header.ts","../../node_modules/lit-html/directives/unsafe-svg.js","../../node_modules/lit-html/directives/private-async-helpers.js","../../node_modules/lit-html/directives/until.js","../../src/constants/paths.ts","../../src/components/icon/icon.ts","../../src/services/block.service.ts","../../src/utils/toCamelCase.ts","../../src/services/section.service.ts","../../src/services/main.service.ts","../../src/main.ts"],"sourcesContent":["export default function setupHlxObj(mainScriptPath: string = 'dist/main/main.js') {\n  window.hlx = window.hlx || {};\n  window.hlx.RUM_MASK_URL = 'full';\n  window.hlx.codeBasePath = '';\n  window.hlx.lighthouse = new URLSearchParams(window.location.search).get('lighthouse') === 'on';\n\n  const scriptEl = document.querySelector(`script[src$=\"${mainScriptPath}\"]`) as HTMLScriptElement;\n  if (scriptEl) {\n    try {\n      [window.hlx.codeBasePath] = new URL(scriptEl.src).pathname.split(mainScriptPath);\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log('setupHlxObj', error);\n    }\n  }\n}\n","import { toClassName } from './toClassName';\n\n/**\n * Adds CSS classes to an HTML element.\n *\n * @param {HTMLElement} element - The HTML element to which classes will be added.\n * @param {string} classes - A string containing CSS classes separated by commas.\n *\n * @example\n * const element = document.getElementById('myElement');\n * const classesToAdd = 'class1, class2, class3';\n * addClasses(element, classesToAdd);\n */\nexport const addClasses = (element: HTMLElement, classes: string): void => {\n  classes.split(',').forEach((cssClass: string): void => {\n    element.classList.add(toClassName(cssClass.trim()));\n  });\n};\n","/**\n * Retrieves the content of a specified metadata tag from the document head.\n *\n * @param {string} value - The name or property attribute value of the metadata tag.\n * @param {Document} [doc=document] - The document to search for the metadata tag (default is the current document).\n * @returns {string} - The content of the metadata tag, if found; otherwise, an empty string.\n *\n * @example\n * // Example 1:\n * // Assuming <meta name=\"description\" content=\"This is a sample description.\"> exists in the document head.\n * const metaContent = getMetadata('description');\n * console.log(metaContent);\n * // Output: 'This is a sample description.'\n *\n * @example\n * // Example 2:\n * // Assuming <meta property=\"og:title\" content=\"Open Graph Title\"> exists in the document head.\n * const metaContent = getMetadata('og:title', document);\n * console.log(metaContent);\n * // Output: 'Open Graph Title'\n */\nexport function getMetadata(value: string, doc: Document = document): string {\n  const attr: 'property' | 'name' = value && value.includes(':') ? 'property' : 'name';\n  const metaTags: HTMLMetaElement[] =\n    ([...doc.head.querySelectorAll(`meta[${attr}=\"${value}\"]`)] as HTMLMetaElement[]) || [];\n  const meta: string = metaTags.map((metaElement: HTMLMetaElement) => metaElement.content).join(', ');\n  return meta.length ? meta : '';\n}\n","import { addClasses } from '../../utils/addClasses';\nimport { getMetadata } from '../../utils/getMetadata';\n\n/**\n * Decorates the template and theme by adding classes to the body.\n * The classes are defined in the meta tags of the document.\n * Usefull for styling the page based on the template and theme meta tags\n * that can be set in the metadata table in EDS.\n * @example\n * <meta name=\"template\" content=\"template-name\">\n * <meta name=\"theme\" content=\"theme-name\">\n * @example\n * <body class=\"template-name theme-name\">\n */\nexport function decorateTemplateAndTheme() {\n  const template = getMetadata('template');\n  if (template) addClasses(document.body, template);\n  const theme = getMetadata('theme');\n  if (theme) addClasses(document.body, theme);\n}\n","/**\n * Decorates paragraphs containing a single link as buttons.\n * @param {Element} element container element\n */\nexport function decorateButtons(element) {\n  element.querySelectorAll('a').forEach((a) => {\n    a.title = a.title || a.textContent;\n    if (a.href !== a.textContent) {\n      const up = a.parentElement;\n      const twoup = a.parentElement.parentElement;\n      if (!a.querySelector('img')) {\n        if (up.childNodes.length === 1 && (up.tagName === 'P' || up.tagName === 'DIV')) {\n          a.className = 'button'; // default\n          up.classList.add('button-container');\n        }\n        if (\n          up.childNodes.length === 1 &&\n          up.tagName === 'STRONG' &&\n          twoup.childNodes.length === 1 &&\n          twoup.tagName === 'P'\n        ) {\n          a.className = 'button primary';\n          twoup.classList.add('button-container');\n        }\n        if (\n          up.childNodes.length === 1 &&\n          up.tagName === 'EM' &&\n          twoup.childNodes.length === 1 &&\n          twoup.tagName === 'P'\n        ) {\n          a.className = 'button secondary';\n          twoup.classList.add('button-container');\n        }\n      }\n    }\n  });\n}\n","/**\n * Returns undefined if the value is an empty string, otherwise returns the value itself.\n *\n * @param {string} value - The value to check.\n * @returns {string | undefined} - If the value is an empty string, returns undefined\n * otherwise, returns the value itself.\n *\n * @example\n * // Example usage:\n * const emptyValue = '';\n * const nonEmptyValue = 'Hello, World!';\n *\n * const result1 = undefinedOnEmpty(emptyValue);\n * console.log(result1); // Output: undefined\n *\n * const result2 = undefinedOnEmpty(nonEmptyValue);\n * console.log(result2); // Output: 'Hello, World!'\n */\nexport function undefinedOnEmpty(value: string): string | undefined {\n  return value.trim() === '' ? undefined : value;\n}\n","import { getMetadata } from '../../utils/getMetadata';\nimport { undefinedOnEmpty } from '../../utils/undefinedOnEmpty';\n\n/*\n * This function sets the language of the document based on the language metadata.\n */\nexport function setDocLanguage() {\n  const lang = getMetadata('language');\n  document.documentElement.lang = undefinedOnEmpty(lang) || 'en';\n}\n","import { BlockMapping } from '../app.types';\n\n/**\n * Collect all blocks in a section.\n * @param section - The section to collect the blocks from.\n * @returns BlockMapping[]\n * @example\n * const blocks = collectBlocks(section);\n * console.log(blocks);\n * // Output: [{ name: 'block1', element: HTMLElement }, { name: 'block2', element: HTMLElement }]\n */\nexport function collectBlocks(section: HTMLElement): BlockMapping[] {\n  const blockMap: BlockMapping[] = [];\n  const blocksElements = section.querySelectorAll<HTMLDivElement>('[data-block-name]');\n\n  blocksElements.forEach((block: HTMLDivElement) => {\n    blockMap.push({\n      name: block.dataset['blockName'] as string,\n      element: block,\n    });\n  });\n\n  return blockMap;\n}\n","import { DebuggerService } from '@kluntje/services';\nimport { BlockMapping } from '../app.types';\nimport { getUrlForEndpoint } from '../utils/getUrlForEndpoint';\n\n/*\n * Load the es module for the block. The module should be named as the block name.\n * @param block - The block to load the module for.\n * @returns Promise<void>\n */\n\nexport async function loadBlockModules(block: BlockMapping): Promise<void> {\n  const status = block.element.dataset.blockStatus ?? 'unloaded';\n\n  if (status === 'unloaded') {\n    block.element.dataset.blockStatus = 'loading';\n\n    try {\n      const { href } = getUrlForEndpoint(`dist/${block.name}/${block.name}.js`);\n      const blockModule = await import(href);\n\n      if (blockModule.default) {\n        await blockModule.default(block.element);\n      }\n\n      block.element.dataset.blockStatus = 'loaded';\n    } catch (error) {\n      block.element.dataset.blockStatus = 'error';\n      DebuggerService.error('laodBloackModules:', error);\n    }\n  }\n}\n","import { getUrlForEndpoint } from '../utils/getUrlForEndpoint';\n\n/**\n * Load a CSS file if it is not already loaded append it to the head.\n * @param endpoint - The endpoint of the CSS file.\n * @returns Promise<boolean>\n */\nexport async function loadCSS(endpoint: string) {\n  return new Promise((resolve, reject) => {\n    const { href } = getUrlForEndpoint(endpoint);\n\n    if (!document.querySelector(`head > link[href=\"${href}\"]`)) {\n      const link = document.createElement('link');\n      link.rel = 'stylesheet';\n      link.href = href;\n      link.onload = resolve;\n      link.onerror = reject;\n      document.head.append(link);\n    } else {\n      resolve(true);\n    }\n  });\n}\n","import { BlockMapping } from '../app.types';\nimport { loadCSS } from './loadCSS';\n\n/**\n * Load the block styles. The styles should be named as the block name.\n * @param block - The block to load the styles for.\n * @returns Promise<void>\n */\nexport async function loadBlockStyles(block: BlockMapping) {\n  try {\n    await loadCSS(`dist/${block.name}/${block.name}.css`);\n  } catch (error) {\n    //do nothing\n  }\n}\n","export interface Config {\n  mainTsPath: string;\n  mainScssPath: string;\n  iconsDirPath: string;\n  iconsTypesPath: string;\n  fontsScssPath?: string;\n  fontsCssPath?: string;\n  lazyStylesScssPath?: string;\n  sidekickLibraryStylesScssPath?: string;\n  lcpBlocks?: string[];\n}\n\nexport const config: Config = {\n  mainTsPath: './src/main.ts',\n  mainScssPath: './src/styles/sass/main.scss',\n  iconsDirPath: './public/icons',\n  iconsTypesPath: './src/types/icons.types.ts',\n  fontsScssPath: 'src/styles/sass/fonts.scss',\n  fontsCssPath: 'dist/fonts/fonts.css',\n  lazyStylesScssPath: 'src/styles/sass/lazy-styles.scss',\n  sidekickLibraryStylesScssPath: 'src/styles/sass/sidekick-library-styles.scss',\n  lcpBlocks: ['banner'],\n};\n","/**\n * Removes the display property from the section\n * @param section - The section to show\n */\nexport function showSection(section: HTMLElement) {\n  section.style.removeProperty('display');\n}\n","import { collectBlocks } from './collectBlocks';\nimport { loadBlockModules } from './loadBlockModules';\nimport { loadBlockStyles } from './loadBlockStyles';\nimport { config } from '../../../config';\nimport { showSection } from './showSection';\nimport { LcpCandidate } from '../app.types';\n\n/**\n * Wait for the Largest Contentful Paint (LCP) candidate to be loaded.\n * This function will load the modules and styles for the first section after the LCP candidate.\n * @returns Promise<void>\n */\nexport async function waitForLCP() {\n  const firstSection: HTMLElement | null = document.querySelector('.section');\n  const { lcpBlocks } = config;\n\n  if (firstSection) {\n    const blocks = collectBlocks(firstSection);\n    const blockPromises = blocks.map(async (block) => {\n      const hasLCPBlock = lcpBlocks?.includes(block.name);\n      if (hasLCPBlock) await Promise.all([loadBlockModules(block), loadBlockStyles(block)]);\n    });\n\n    await Promise.all(blockPromises);\n    showSection(firstSection);\n  }\n\n  // @ts-ignore\n  document.body.style.display = null;\n  const lcpCandidate = document.querySelector<LcpCandidate>('main img');\n\n  await new Promise<void>((resolve) => {\n    if (lcpCandidate && !lcpCandidate.complete) {\n      lcpCandidate.setAttribute('loading', 'eager');\n      lcpCandidate.setAttribute('fetchpriority', 'high');\n      lcpCandidate.addEventListener('load', () => resolve());\n      lcpCandidate.addEventListener('error', () => resolve());\n    } else {\n      resolve();\n    }\n  });\n}\n","import { isSidekickLibraryActive } from './isSidekickLibraryActive.ts';\n\n/**\n * Returns the true origin of the current page in the browser.\n * If the page is running in an iframe with srcdoc, the query param is returned.\n * @returns {String} The query param of the current page or the query param of the block running in the library\n *\n * @example\n * const searchParams = new URLSearchParams(getLocation().search);\n *\n * @remarks\n * Needs to be used when the Sidekick Library Plugin is in use.\n */\nexport function getLocation(): Location {\n  return isSidekickLibraryActive() ? window.parent.location : window.location;\n}\n","import { getLocation } from 'Helpers/sidekick/getLocation';\nimport { loadCSS } from './loadCSS';\nimport { config } from '../../../config';\n\nexport async function loadFonts(): Promise<void> {\n  const { fontsCssPath } = config;\n  if (!fontsCssPath) return;\n  await loadCSS(fontsCssPath);\n  try {\n    if (!getLocation().hostname.includes('localhost')) sessionStorage.setItem('fonts-loaded', 'true');\n  } catch (e) {\n    console.error('Error setting fonts-loaded in session storage', e);\n    // do nothing\n  }\n}\n","import setupHlxObj from './tasks/setupHlxObj';\nimport { decorateTemplateAndTheme } from './tasks/decorateTemplateAndTheme';\nimport { decorateButtons } from './tasks/decorateButtons';\nimport { setDocLanguage } from './tasks/setDocLanguage';\nimport { waitForLCP } from './tasks/waitForLCP';\nimport { loadFonts } from './tasks/loadFonts';\n\nclass HLX {\n  private beforeEagerCallbacks: Array<() => Promise<void>> = [];\n  private loadEagerCallbacks: Array<() => Promise<void>> = [];\n  private beforeLoadLazyCallbacks: Array<() => Promise<void>> = [];\n  private loadLazyCallbacks: Array<() => Promise<void>> = [];\n  private beforeLoadDelayedCallbacks: Array<() => Promise<void>> = [];\n  private loadDelayedCallbacks: Array<() => Promise<void>> = [];\n  private initializedCallbacks: Array<() => Promise<void>> = [];\n\n  private beforeEagerPromise?: Promise<void>;\n  private eagerPromise?: Promise<void>;\n  private beforeLazyPromise?: Promise<void>;\n  private lazyPromise?: Promise<void>;\n  private beforeDelayedPromise?: Promise<void>;\n  private delayedPromise?: Promise<void>;\n  private initializedPromise?: Promise<void>;\n\n  private get beforeEager() {\n    if (this.beforeEagerPromise === undefined) {\n      this.beforeEagerPromise = this.beforeLoadEager();\n    }\n    return this.beforeEagerPromise;\n  }\n\n  private get loadEager() {\n    if (this.eagerPromise === undefined) {\n      this.eagerPromise = this.loadEagerPromise();\n    }\n    return this.eagerPromise;\n  }\n\n  private get beforeLoadLazy() {\n    if (this.beforeLazyPromise === undefined) {\n      this.beforeLazyPromise = this.beforeLoadLazyPromise();\n    }\n    return this.beforeLazyPromise;\n  }\n\n  private get loadLazy() {\n    if (this.lazyPromise === undefined) {\n      this.lazyPromise = this.loadLazyPromise();\n    }\n    return this.lazyPromise;\n  }\n\n  private get beforeLoadDelayed() {\n    if (this.beforeDelayedPromise === undefined) {\n      this.beforeDelayedPromise = this.beforeLoadDelayedPromise();\n    }\n    return this.beforeDelayedPromise;\n  }\n\n  private get loadDelayed() {\n    if (this.delayedPromise === undefined) {\n      this.delayedPromise = this.loadDelayedPromise();\n    }\n    return this.delayedPromise;\n  }\n\n  private get initialized() {\n    if (this.initializedPromise === undefined) {\n      this.initializedPromise = this.getInitializedPromise();\n    }\n    return this.initializedPromise;\n  }\n\n  public addBeforeEagerTask(cb: () => Promise<void>) {\n    this.beforeEagerCallbacks.push(cb);\n  }\n\n  public addLoadEagerTask(cb: () => Promise<void>) {\n    this.loadEagerCallbacks.push(cb);\n  }\n\n  public addBeforeLoadLazyTask(cb: () => Promise<void>) {\n    this.beforeLoadLazyCallbacks.push(cb);\n  }\n\n  public addLoadLazyTask(cb: () => Promise<void>) {\n    this.loadLazyCallbacks.push(cb);\n  }\n\n  public addBeforeLoadDelayedTask(cb: () => Promise<void>) {\n    this.beforeLoadDelayedCallbacks.push(cb);\n  }\n\n  public addLoadDelayedTask(cb: () => Promise<void>) {\n    this.loadDelayedCallbacks.push(cb);\n  }\n\n  public addInitializedTask(cb: () => Promise<void>) {\n    this.initializedCallbacks.push(cb);\n  }\n\n  public async init() {\n    await this.beforeEager;\n    await this.loadEager;\n    await this.beforeLoadLazy;\n    await this.loadLazy;\n    await this.beforeLoadDelayed;\n    await this.loadDelayed;\n    await this.initialized;\n  }\n\n  private async beforeLoadEager(): Promise<void> {\n    const beforeLoadEagerTask: Promise<void> = new Promise((resolve) => {\n      setupHlxObj();\n      decorateTemplateAndTheme();\n      setDocLanguage();\n      resolve();\n    });\n\n    await Promise.all([...this.beforeEagerCallbacks.map((cb) => cb()), beforeLoadEagerTask]);\n  }\n\n  private async loadEagerPromise(): Promise<void> {\n    const loadEagerTask: Promise<void> = new Promise(async (resolve) => {\n      const main = document.querySelector('main');\n      decorateButtons(main);\n      setTimeout(() => {\n        document.body.classList.add('show');\n        resolve();\n      }, 100);\n\n      await waitForLCP();\n\n      try {\n        /* if desktop (proxy for fast connection) or fonts already loaded, load fonts.css */\n        if (window.innerWidth >= 900 || sessionStorage.getItem('fonts-loaded')) {\n          await loadFonts();\n        }\n      } catch (e) {\n        // do nothing\n      }\n    });\n\n    await Promise.all([...this.loadEagerCallbacks.map((cb) => cb()), loadEagerTask]);\n  }\n\n  private async beforeLoadLazyPromise(): Promise<void> {\n    const beforeLoadLazyTask: Promise<void> = new Promise((resolve) => resolve());\n\n    await Promise.all([...this.beforeLoadLazyCallbacks.map((cb) => cb()), beforeLoadLazyTask]);\n  }\n\n  private async loadLazyPromise(): Promise<void> {\n    const defaultTask: Promise<void> = new Promise((resolve) => {\n      // Business Logic\n      // Resolve\n      setTimeout(() => {\n        resolve();\n      }, 3500);\n    });\n\n    await Promise.all([...this.loadLazyCallbacks.map((cb) => cb()), defaultTask]);\n  }\n\n  private async beforeLoadDelayedPromise(): Promise<void> {\n    const defaultTask: Promise<void> = new Promise((resolve) => {\n      setTimeout(() => {\n        resolve();\n      }, 3000);\n    });\n\n    await Promise.all([...this.beforeLoadDelayedCallbacks.map((cb) => cb()), defaultTask]);\n  }\n\n  private async loadDelayedPromise(): Promise<void> {\n    const loadDelayedTask: Promise<void> = new Promise((resolve) => {\n      setTimeout(() => {\n        resolve();\n      }, 3000);\n    });\n\n    await Promise.all([...this.loadDelayedCallbacks.map((cb) => cb()), loadDelayedTask]);\n  }\n\n  private async getInitializedPromise(): Promise<void> {\n    const initializedTask: Promise<void> = new Promise((resolve) => {\n      // Business Logic\n      // Resolve\n      setTimeout(() => {\n        resolve();\n      }, 1000);\n    });\n\n    await Promise.all([...this.initializedCallbacks.map((cb) => cb()), initializedTask]);\n  }\n}\n\nexport default new HLX();\n","import{_$LH as o}from\"./lit-html.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{I:t}=o,i=o=>null===o||\"object\"!=typeof o&&\"function\"!=typeof o,n={HTML:1,SVG:2},e=(o,t)=>void 0===t?void 0!==o?._$litType$:o?._$litType$===t,l=o=>null!=o?._$litType$?.h,c=o=>void 0!==o?._$litDirective$,d=o=>o?._$litDirective$,f=o=>void 0===o.strings,s=()=>document.createComment(\"\"),r=(o,i,n)=>{const e=o._$AA.parentNode,l=void 0===i?o._$AB:i._$AA;if(void 0===n){const i=e.insertBefore(s(),l),c=e.insertBefore(s(),l);n=new t(i,c,o,o.options)}else{const t=n._$AB.nextSibling,i=n._$AM,c=i!==o;if(c){let t;n._$AQ?.(o),n._$AM=o,void 0!==n._$AP&&(t=o._$AU)!==i._$AU&&n._$AP(t)}if(t!==l||c){let o=n._$AA;for(;o!==t;){const t=o.nextSibling;e.insertBefore(o,l),o=t}}}return n},v=(o,t,i=o)=>(o._$AI(t,i),o),u={},m=(o,t=u)=>o._$AH=t,p=o=>o._$AH,h=o=>{o._$AP?.(!1,!0);let t=o._$AA;const i=o._$AB.nextSibling;for(;t!==i;){const o=t.nextSibling;t.remove(),t=o}},j=o=>{o._$AR()};export{n as TemplateResultType,j as clearPart,p as getCommittedValue,d as getDirectiveClass,r as insertPart,l as isCompiledTemplateResult,c as isDirectiveResult,i as isPrimitive,f as isSingleExpression,e as isTemplateResult,h as removePart,v as setChildPartValue,m as setCommittedValue};\n//# sourceMappingURL=directive-helpers.js.map\n","import{isSingleExpression as i}from\"./directive-helpers.js\";import{Directive as t,PartType as e}from\"./directive.js\";export{Directive,PartType,directive}from\"./directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=(i,t)=>{const e=i._$AN;if(void 0===e)return!1;for(const i of e)i._$AO?.(t,!1),s(i,t);return!0},o=i=>{let t,e;do{if(void 0===(t=i._$AM))break;e=t._$AN,e.delete(i),i=t}while(0===e?.size)},r=i=>{for(let t;t=i._$AM;i=t){let e=t._$AN;if(void 0===e)t._$AN=e=new Set;else if(e.has(i))break;e.add(i),c(t)}};function h(i){void 0!==this._$AN?(o(this),this._$AM=i,r(this)):this._$AM=i}function n(i,t=!1,e=0){const r=this._$AH,h=this._$AN;if(void 0!==h&&0!==h.size)if(t)if(Array.isArray(r))for(let i=e;i<r.length;i++)s(r[i],!1),o(r[i]);else null!=r&&(s(r,!1),o(r));else s(this,i)}const c=i=>{i.type==e.CHILD&&(i._$AP??=n,i._$AQ??=h)};class f extends t{constructor(){super(...arguments),this._$AN=void 0}_$AT(i,t,e){super._$AT(i,t,e),r(this),this.isConnected=i._$AU}_$AO(i,t=!0){i!==this.isConnected&&(this.isConnected=i,i?this.reconnected?.():this.disconnected?.()),t&&(s(this,i),o(this))}setValue(t){if(i(this._$Ct))this._$Ct._$AI(t,this);else{const i=[...this._$Ct._$AH];i[this._$Ci]=t,this._$Ct._$AI(i,this,0)}}disconnected(){}reconnected(){}}export{f as AsyncDirective};\n//# sourceMappingURL=async-directive.js.map\n","import{nothing as t}from\"../lit-html.js\";import{AsyncDirective as i}from\"../async-directive.js\";import{directive as s}from\"../directive.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const e=()=>new h;class h{}const o=new WeakMap,n=s(class extends i{render(i){return t}update(i,[s]){const e=s!==this.Y;return e&&void 0!==this.Y&&this.rt(void 0),(e||this.lt!==this.ct)&&(this.Y=s,this.ht=i.options?.host,this.rt(this.ct=i.element)),t}rt(t){if(\"function\"==typeof this.Y){const i=this.ht??globalThis;let s=o.get(i);void 0===s&&(s=new WeakMap,o.set(i,s)),void 0!==s.get(this.Y)&&this.Y.call(this.ht,void 0),s.set(this.Y,t),void 0!==t&&this.Y.call(this.ht,t)}else this.Y.value=t}get lt(){return\"function\"==typeof this.Y?o.get(this.ht??globalThis)?.get(this.Y):this.Y?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});export{e as createRef,n as ref};\n//# sourceMappingURL=ref.js.map\n","import { html, LitElement } from 'lit';\nimport { customElement, state } from 'lit/decorators.js';\n\nimport FetchService from 'Services/fetch.service.ts';\nimport { renderIcon } from '../icon/icon.template.ts';\nimport { DebuggerService } from '@kluntje/services';\nimport PlaceholderService from 'Services/placeholder.service.ts';\nimport { SiteMapEntry } from 'Types/siteMap.types.ts';\nimport { SheetsResponse } from 'Types/sheetResponse.types.ts';\n\ninterface SubMenuItem {\n  path: string;\n  navtitle: string;\n}\n\ninterface MenuItem {\n  path: string;\n  error?: string;\n  navtitle: string;\n  children?: SubMenuItem[];\n}\n\n@customElement('sidebar-nav')\nexport class SidebarNav extends LitElement {\n  @state()\n  items: MenuItem[];\n\n  @state()\n  error: string | null = null;\n\n  protected createRenderRoot(): HTMLElement | DocumentFragment {\n    return this;\n  }\n\n  async firstUpdated() {\n    this.items = await this.groupByFirstLevelPath();\n  }\n\n  async getPlaceholder(key: string): Promise<any> {\n    const placeholder = await PlaceholderService.getPlaceHolder(key);\n    return placeholder;\n  }\n\n  render() {\n    if (this.error) {\n      return html`<div class=\"error\">${this.error}</div>`;\n    }\n    if (!this.items) return;\n\n    return html` <nav id=\"menu\">\n      <header class=\"major\">\n        <h2>Menu</h2>\n      </header>\n      ${this.items.length === 0 ? this.getPlaceholder('no menu items') : this.renderMenuItems()}\n    </nav>`;\n  }\n\n  private toggleSubmenu({ currentTarget }: Event) {\n    if (!(currentTarget instanceof HTMLElement) || !currentTarget.classList.contains('opener')) return;\n    currentTarget.classList.toggle('active');\n  }\n\n  private renderSubMenu(item) {\n    return html`<span @click=\"${this.toggleSubmenu}\" class=\"opener submenu\">\n        <span class=\"submenu__text\">${item.navtitle} </span>\n        ${renderIcon('chevron-down', 'submenu__icon')}\n      </span>\n      <ul>\n        ${item.children.map((child) => html` <li><a href=\"${child.path}\">${child.navtitle}</a></li>`)}\n      </ul>`;\n  }\n\n  private renderMenuItem(item: MenuItem) {\n    if (item.error) {\n      return html`<p>${item.error}</p>`;\n    } else {\n      return html` <li>\n        ${item.children !== undefined ? this.renderSubMenu(item) : html`<a href=\"${item.path}\">${item.navtitle}</a>`}\n      </li>`;\n    }\n  }\n\n  private renderMenuItems() {\n    return html` <ul>\n      ${this.items.map((item: MenuItem) => this.renderMenuItem(item))}\n    </ul>`;\n  }\n\n  private getSubmenuName = (entry: MenuItem) => {\n    return entry.path.split('/')[1];\n  };\n\n  private getNavTitle(item: MenuItem | SiteMapEntry) {\n    if (item.path === '/') return 'Homepage';\n    return item['navtitle'] || item['title'];\n  }\n\n  private filterNavigation(queryIndex: SiteMapEntry[], filterValues: string[]): MenuItem[] {\n    return queryIndex\n      .filter((item) => filterValues.every((term) => !item.path.includes(term)))\n      .map((item) => ({\n        path: item.path,\n        navtitle: this.getNavTitle(item),\n      }));\n  }\n\n  private groupItemsByFirstLevelPath(siteMapEntries: MenuItem[]): Record<string, SiteMapEntry[]> {\n    const groups = {};\n    siteMapEntries.forEach((item) => {\n      const firstLevelPath = this.getSubmenuName(item); // Extracting the first level of the path\n      if (!groups[firstLevelPath]) {\n        groups[firstLevelPath] = [];\n      }\n      groups[firstLevelPath].push({\n        path: item.path,\n        navtitle: this.getNavTitle(item),\n      });\n    });\n    return groups;\n  }\n\n  private async groupByFirstLevelPath() {\n    const endpoint = '/query-index.json';\n    const filterValues: string[] = ['sidekick', 'sidekick-library', 'tools', 'development', 'dev-', '__'];\n\n    try {\n      const queryIndex = await FetchService.fetchJson<SheetsResponse<SiteMapEntry>>(endpoint);\n\n      this.error = null;\n\n      const filteredNavigation = this.filterNavigation(queryIndex.data, filterValues);\n      const groupItems = this.groupItemsByFirstLevelPath(filteredNavigation);\n      const groupedData = Object.values(groupItems);\n\n      return groupedData.map((group: MenuItem[]) => {\n        if (group.length === 1) {\n          return group[0];\n        }\n\n        return {\n          navtitle: group[0].path.split('/')[1],\n          path: group[0].path,\n          children: group,\n        };\n      });\n    } catch (error) {\n      DebuggerService.error(`SidebarNav Component: Error while fetching ${endpoint}`, error);\n      this.error = await PlaceholderService.getPlaceHolder('error');\n      return [];\n    }\n  }\n}\n","import { html, LitElement, nothing } from 'lit';\nimport { customElement, state } from 'lit/decorators.js';\nimport { unsafeHTML } from 'lit-html/directives/unsafe-html.js';\nimport FetchService from '../../services/fetch.service.ts';\nimport { renderIcon } from '../icon/icon.template.ts';\nimport { DebuggerService } from '@kluntje/services';\nimport PlaceholderService from '../../services/placeholder.service.ts';\nimport { IconName } from 'Types/icons.types.ts';\n\ninterface SidebarContactTemplateArgs {\n  headline: HTMLElement | null;\n  text: HTMLElement | null;\n  contacts: Contact[];\n}\n\ninterface Contact {\n  icon: HTMLElement | null;\n  markup: HTMLElement | null;\n}\n\n@customElement('sidebar-contact')\nexport class SidebarContact extends LitElement {\n  @state()\n  contactTemplateArgs: SidebarContactTemplateArgs;\n\n  @state()\n  error: string | null = null;\n\n  async connectedCallback() {\n    super.connectedCallback();\n    const contactHtml = await this.fetchContactsHtml();\n    if (contactHtml !== null) this.getContactTemplateArgs(contactHtml);\n  }\n\n  async fetchContactsHtml() {\n    const parser = new DOMParser();\n    const endpoint = 'contact.plain.html';\n\n    try {\n      const contactHtmlString = await FetchService.fetchText(endpoint, {\n        cacheOptions: { cacheType: 'runtime' },\n      });\n      this.error = null;\n      return parser.parseFromString(contactHtmlString, 'text/html');\n    } catch (error) {\n      DebuggerService.error(`SidebarContacts Component: Error while fetching ${endpoint}`, error);\n      this.error = await PlaceholderService.getPlaceHolder('error');\n\n      return null;\n    }\n  }\n\n  renderHeader(headline: HTMLElement | null) {\n    if (!headline) return nothing;\n    return html`<header class=\"major\">\n      <h2>${headline}</h2>\n    </header>`;\n  }\n\n  renderText(text: HTMLElement | null) {\n    if (!text) return nothing;\n    return html`<p>${text}</p>`;\n  }\n\n  render() {\n    if (this.error) {\n      return html`<div class=\"error\">${this.error}</div>`;\n    }\n\n    if (!this.contactTemplateArgs) return nothing;\n\n    const { headline, text, contacts } = this.contactTemplateArgs;\n\n    return html`\n      <section>${this.renderHeader(headline)} ${this.renderText(text)} ${this.renderContacts(contacts)}</section>\n    `;\n  }\n\n  protected createRenderRoot(): HTMLElement | DocumentFragment {\n    return this;\n  }\n\n  private renderContact(contact: Contact) {\n    const { icon, markup } = contact;\n    if (!icon && !markup) return nothing;\n\n    return html` <li class=\"icon solid\">${this.renderIcon(icon)} ${this.renderContactMarkup(markup)}</li>`;\n  }\n\n  private getContactsArgs(contactHtml: Document): Contact[] {\n    const contactsElement = contactHtml.querySelectorAll('.contact > div:not(:first-child)');\n    const contactsArray = Array.from(contactsElement);\n\n    return contactsArray.map((contactElement) => {\n      return {\n        icon: contactElement.querySelector('div'),\n        markup: contactElement.querySelector('div:last-child'),\n      };\n    });\n  }\n\n  private getContactTemplateArgs(contactHtml: Document) {\n    const headline = contactHtml.querySelector('h2');\n    const text = contactHtml.querySelector('p');\n    const contacts = this.getContactsArgs(contactHtml);\n\n    this.contactTemplateArgs = {\n      headline,\n      text,\n      contacts,\n    };\n  }\n\n  private renderContacts(contacts: Contact[]) {\n    if (contacts.length === 0) return nothing;\n    return html`<ul class=\"contact\">\n      ${contacts.map((contact) => this.renderContact(contact))}\n    </ul>`;\n  }\n\n  private renderIcon(icon: HTMLElement | null) {\n    if (!icon) return nothing;\n    return renderIcon(icon.innerHTML as IconName);\n  }\n\n  private renderContactMarkup(markup: HTMLElement | null) {\n    if (!markup) return nothing;\n    return unsafeHTML(markup.innerHTML);\n  }\n}\n","import { html, LitElement, nothing } from 'lit';\nimport { customElement, state } from 'lit/decorators.js';\nimport { createOptimizedPicture } from 'Utils/createOptimizedPicture.ts';\nimport FetchService from 'Services/fetch.service.ts';\nimport { DebuggerService } from '@kluntje/services';\nimport PlaceholderService from 'Services/placeholder.service.ts';\nimport { Sitemap, SiteMapEntry } from 'Types/siteMap.types.ts';\nimport { SheetsResponse } from 'Types/sheetResponse.types.ts';\n\n@customElement('sidebar-posts')\nexport class SidebarPosts extends LitElement {\n  @state()\n  private lastTreePosts: Sitemap;\n\n  @state()\n  error: string | null = null;\n\n  @state()\n  private noPostsPlaceholder: string;\n\n  async connectedCallback() {\n    super.connectedCallback();\n    const posts = await this.getPosts();\n    this.lastTreePosts = this.getLastThreePosts(posts);\n    this.noPostsPlaceholder = await PlaceholderService.getPlaceHolder('no posts');\n  }\n\n  render() {\n    if (!this.lastTreePosts) return;\n\n    return html` ${this.renderHeader()} ${this.renderPosts()} `;\n\n    //TODO: Add overview if more button is needed\n    /*\n     <ul class=\"actions\">\n        <li><a href=\"#\" class=\"button\">More</a></li>\n      </ul>\n    */\n  }\n\n  protected createRenderRoot(): HTMLElement | DocumentFragment {\n    return this;\n  }\n\n  private getLastThreePosts(posts: Sitemap) {\n    posts.sort((sitemapEntry: SiteMapEntry, nextSitemapEntry: SiteMapEntry) => {\n      if (sitemapEntry.lastModified > nextSitemapEntry.lastModified) {\n        return -1;\n      } else if (sitemapEntry.lastModified < nextSitemapEntry.lastModified) {\n        return 1;\n      }\n\n      return 0;\n    });\n\n    return posts.slice(0, 3);\n  }\n\n  private renderPicture(siteMapEntry: SiteMapEntry) {\n    const picture = createOptimizedPicture({\n      src: siteMapEntry.image,\n      alt: siteMapEntry.imagealt,\n      width: 336,\n      height: 224,\n    });\n    if (!picture) return nothing;\n    return html`<a href=\"${siteMapEntry.path}\" class=\"image\">${picture}</a>`;\n  }\n\n  private renderPost(siteMapEntry: SiteMapEntry) {\n    return html` <article>\n      ${this.renderPicture(siteMapEntry)}\n      <p>${siteMapEntry.description}</p>\n    </article>`;\n  }\n\n  private async getPosts() {\n    const endpoint = '/query-index.json';\n\n    try {\n      this.error = null;\n      const queryIndex = await FetchService.fetchJson<SheetsResponse<SiteMapEntry>>(endpoint);\n      return queryIndex.data.filter((item) => item.path.startsWith('/posts'));\n    } catch (error) {\n      DebuggerService.error(`SidebarPost Component: Error while fetching ${endpoint}`, error);\n      this.error = await PlaceholderService.getPlaceHolder('error');\n      return [];\n    }\n  }\n\n  private renderPosts() {\n    if (this.error) return html`<div class=\"error\">${this.error}</div>`;\n    if (this.lastTreePosts.length === 0) return html`<div>${this.noPostsPlaceholder}</div>`;\n\n    return html`<div class=\"mini-posts\">\n      ${this.lastTreePosts.map((siteMapEntry) => this.renderPost(siteMapEntry))}\n    </div>`;\n  }\n\n  private renderHeader() {\n    return html` <header class=\"major\">\n      <h2>Newest Posts</h2>\n    </header>`;\n  }\n}\n","import { html, LitElement } from 'lit';\nimport { customElement, state } from 'lit/decorators.js';\nimport FetchService from '../../services/fetch.service.ts';\nimport { DebuggerService } from '@kluntje/services';\nimport PlaceholderService from '../../services/placeholder.service.ts';\n\n@customElement('sidebar-footer')\nexport class SidebarFooter extends LitElement {\n  @state()\n  footerMarkup: HTMLParagraphElement | null;\n\n  @state()\n  error: string | null = null;\n\n  protected createRenderRoot(): HTMLElement | DocumentFragment {\n    return this;\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback();\n    this.fetchFooterData();\n  }\n\n  async fetchFooterData() {\n    const endpoint = 'footer.plain.html';\n\n    try {\n      const response = await FetchService.fetchText(endpoint, {\n        cacheOptions: { cacheType: 'runtime' },\n      });\n      this.error = null;\n      const responseMarkup = document.createElement('div');\n      responseMarkup.innerHTML = response;\n      this.footerMarkup = responseMarkup.querySelector('p');\n      if (this.footerMarkup) this.footerMarkup.classList.add('copyright');\n    } catch (error) {\n      DebuggerService.error(`SidebarFooter Component: Error while fetching ${endpoint}`, error);\n      this.error = await PlaceholderService.getPlaceHolder('error');\n    }\n  }\n\n  render() {\n    if (this.error) {\n      return html`<div class=\"error\">${this.error}</div>`;\n    }\n    if (!this.footerMarkup) return;\n    return html`${this.footerMarkup}`;\n  }\n}\n","/**\n * @module SidebarComponent\n * @copyright diva-e (https://diva-e.com)\n */\n\nimport { html, LitElement } from 'lit';\nimport { customElement } from 'lit/decorators.js';\nimport { createRef, Ref, ref } from 'lit/directives/ref.js';\n\nimport './sidebarNav.ts';\nimport './sidebarContact.ts';\nimport './sidebarPosts.ts';\nimport './sidebarFooter.ts';\n\nimport { renderIcon } from '../icon/icon.template.ts';\n\n@customElement('sidebar-component')\nexport class SidebarComponent extends LitElement {\n  toggleRef: Ref<HTMLAnchorElement> = createRef();\n  createRenderRoot(): HTMLElement | DocumentFragment {\n    return this;\n  }\n\n  firstUpdated(): void {\n    this.toggleRef.value!.addEventListener('click', this.handleToggleClick);\n    this.classList.add('activate-animations');\n  }\n\n  handleToggleClick = (e: Event) => {\n    e.preventDefault();\n    this.classList.toggle('active');\n  };\n\n  render() {\n    return html`\n      <div class=\"inner\">\n        <sidebar-nav></sidebar-nav>\n        <sidebar-posts></sidebar-posts>\n        <sidebar-contact></sidebar-contact>\n        <sidebar-footer id=\"footer\"></sidebar-footer>\n      </div>\n      <a ${ref(this.toggleRef)} href=\"#sidebar\" class=\"toggle hamburger-icon\" aria-label=\"Sidebar toggle\">\n        ${renderIcon('hamburger')}\n      </a>\n    `;\n  }\n}\n","import HLX from '../../app/index.ts';\nimport './sidebar.ts';\nimport { isSidekickLibraryActive } from 'Helpers/sidekick/isSidekickLibraryActive.ts';\n\nconst addSidebarContainer = () => {\n  if (isSidekickLibraryActive()) return;\n\n  const sidebarContainer = document.createElement('sidebar-component');\n  sidebarContainer.setAttribute('id', 'sidebar');\n  window.innerWidth <= 1280 ? sidebarContainer.classList.remove('active') : sidebarContainer.classList.add('active');\n  window.innerWidth <= 1280 ? sidebarContainer.classList.remove('active') : sidebarContainer.classList.add('active');\n  const main = document.getElementById('main');\n  main?.after(sidebarContainer);\n};\n\nHLX.addLoadEagerTask(() => {\n  addSidebarContainer();\n  console.log('LOAD EAGER SIDEBAR TS');\n  return Promise.resolve();\n});\n","/**\n * Represents the structure of an object used to specify replacements in a string.\n *\n * @interface ReplaceBySpecifier\n * @property {string} input - The input string where replacements will be made.\n * @property {string} specifier - The specifier string to search for in the input.\n * @property {string} htmlTag - The HTML tag to wrap around the parts matched by the specifier.\n */\ninterface ReplaceBySpecifier {\n  input: string;\n  specifier: string;\n  htmlTag: string;\n}\n\n/**\n * Replaces occurrences of a specified specifier in a string with an HTML tag.\n *\n * @param {ReplaceBySpecifier} param - An object containing input string, specifier, and HTML tag.\n * @param {string} param.input - The input string where replacements will be made.\n * @param {string} param.specifier - The specifier string to search for in the input.\n * @param {string} param.htmlTag - The HTML tag to wrap around the parts matched by the specifier.\n * @returns {string} - The modified string with replacements.\n *\n @example\n * // Example 1:\n  * const result1 = replaceBySpecifier({\n  *   input: 'This is a test string with some test keywords.',\n  *   specifier: 'test',\n  *   htmlTag: 'strong'\n  * });\n  * console.log(result1);\n  * // Output: 'This is a <strong> string with some </strong> keywords.'\n  *\n  * // Example 2:\n  * const result2 = replaceBySpecifier({\n  *   input: 'Hello, world!',\n  *   specifier: ',',\n  *   htmlTag: 'span'\n  * });\n  * console.log(result2);\n  * // Output: 'Hello<span> world!</span>'\n */\nexport function replaceBySpecifier({ input, specifier, htmlTag }: ReplaceBySpecifier): string {\n  if (specifier === '' || htmlTag === '') return input;\n  return input\n    .split(specifier)\n    .map((part: string, index: number): string => (index % 2 === 1 ? `<${htmlTag}>${part}</${htmlTag}>` : part))\n    .join('');\n}\n","import { html, LitElement, PropertyValueMap } from 'lit';\nimport { customElement, state } from 'lit/decorators.js';\nimport { replaceBySpecifier } from 'Utils/replaceBySpecifier.ts';\nimport { unsafeHTML } from 'lit-html/directives/unsafe-html.js';\nimport FetchService from 'Services/fetch.service.ts';\nimport { renderIcon } from './icon/icon.template.ts';\nimport { DebuggerService } from '@kluntje/services';\nimport PlaceholderService from 'Services/placeholder.service.ts';\nimport { IconName } from 'Types/icons.types.ts';\n\nexport interface HeaderResponseData {\n  leftCol: LeftCol;\n  rightCol: RightCol;\n}\n\nexport interface LeftCol {\n  data: LeftColData[];\n}\n\nexport interface LeftColData {\n  logoText: string;\n  logoLink: string;\n}\n\nexport interface RightCol {\n  data: RightColData[];\n}\n\nexport interface RightColData {\n  socialIcon: IconName;\n  socialLabel: string;\n  socialLink: string;\n}\n\ninterface HeaderTemplateData {\n  leftCol: LeftColData;\n  rightCol: RightColData[];\n}\n\n@customElement('header-component')\nexport class HeaderComponent extends LitElement {\n  @state()\n  headerData: HeaderTemplateData;\n\n  @state()\n  error: string | null = null;\n\n  protected createRenderRoot(): HTMLElement | DocumentFragment {\n    return this;\n  }\n\n  protected async firstUpdated(_changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>) {\n    await this.fetchHeaderData();\n  }\n\n  async fetchHeaderData() {\n    try {\n      const response = await FetchService.fetchJson<HeaderResponseData>('header.json', {\n        cacheOptions: { cacheType: 'runtime' },\n      });\n      this.headerData = { leftCol: response.leftCol.data[0], rightCol: response.rightCol.data };\n      this.error = null;\n    } catch (error) {\n      DebuggerService.error('Header Component: Error while fetching header.json', error);\n      this.error = await PlaceholderService.getPlaceHolder('error');\n    }\n  }\n\n  render() {\n    if (this.error) {\n      return html`<div class=\"error\">${this.error}</div>`;\n    }\n    if (!this.headerData) return;\n    const { leftCol, rightCol } = this.headerData;\n    const logoText = replaceBySpecifier({ input: leftCol.logoText, htmlTag: 'strong', specifier: ':::' });\n    const logoTextHTML = unsafeHTML(logoText);\n    return html`\n      <a href=\"${leftCol.logoLink}\" class=\"logo\">${logoTextHTML}</a>\n      <ul class=\"icons\">\n        ${rightCol.map((item) => {\n          return html`\n            <li>\n              <a href=\"${item.socialLink}\" class=\"icon brands\" aria-label=\"${item.socialLabel}\">\n                ${renderIcon(item.socialIcon, 'header-icon')}\n                <span class=\"label\">${item.socialLabel}</span>\n              </a>\n            </li>\n          `;\n        })}\n      </ul>\n    `;\n  }\n}\n","import{directive as s}from\"../directive.js\";import{UnsafeHTMLDirective as e}from\"./unsafe-html.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class t extends e{}t.directiveName=\"unsafeSVG\",t.resultType=2;const o=s(t);export{o as unsafeSVG};\n//# sourceMappingURL=unsafe-svg.js.map\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=async(t,s)=>{for await(const i of t)if(!1===await s(i))return};class s{constructor(t){this.Y=t}disconnect(){this.Y=void 0}reconnect(t){this.Y=t}deref(){return this.Y}}class i{constructor(){this.Z=void 0,this.q=void 0}get(){return this.Z}pause(){this.Z??=new Promise((t=>this.q=t))}resume(){this.q?.(),this.Z=this.q=void 0}}export{i as Pauser,s as PseudoWeakRef,t as forAwaitOf};\n//# sourceMappingURL=private-async-helpers.js.map\n","import{noChange as t}from\"../lit-html.js\";import{isPrimitive as s}from\"../directive-helpers.js\";import{AsyncDirective as i}from\"../async-directive.js\";import{PseudoWeakRef as e,Pauser as r}from\"./private-async-helpers.js\";import{directive as o}from\"../directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const n=t=>!s(t)&&\"function\"==typeof t.then,h=1073741823;class c extends i{constructor(){super(...arguments),this._$Cwt=h,this._$Cbt=[],this._$CK=new e(this),this._$CX=new r}render(...s){return s.find((t=>!n(t)))??t}update(s,i){const e=this._$Cbt;let r=e.length;this._$Cbt=i;const o=this._$CK,c=this._$CX;this.isConnected||this.disconnected();for(let t=0;t<i.length&&!(t>this._$Cwt);t++){const s=i[t];if(!n(s))return this._$Cwt=t,s;t<r&&s===e[t]||(this._$Cwt=h,r=0,Promise.resolve(s).then((async t=>{for(;c.get();)await c.get();const i=o.deref();if(void 0!==i){const e=i._$Cbt.indexOf(s);e>-1&&e<i._$Cwt&&(i._$Cwt=e,i.setValue(t))}})))}return t}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}}const m=o(c);export{c as UntilDirective,m as until};\n//# sourceMappingURL=until.js.map\n","export const ICONS_PATH = '/public/icons';\n","import { css, html, LitElement } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { unsafeSVG } from 'lit/directives/unsafe-svg.js';\nimport { until } from 'lit/directives/until.js';\nimport { ICONS_PATH } from 'Constants/paths.ts';\nimport { DebuggerService } from '@kluntje/services';\n\n// Vite runs on build time and finds all svg files in icons directory\n// Since import.meta.glob only accepts literals ICON_PATH cant be used\nconst modules = import.meta.glob('/public/icons/*.svg', { as: 'raw' });\n\n@customElement('icon-component')\nexport class Icon extends LitElement {\n  @property({ type: String })\n  name: string = '';\n\n  async getSvg(name: string) {\n    const key = modules[`${ICONS_PATH}/${name}.svg`];\n    const iconMarkupFunc = key ?? modules[`${ICONS_PATH}/cross.svg`];\n    try {\n      const iconMarkup = await iconMarkupFunc();\n      return unsafeSVG(iconMarkup);\n    } catch (error) {\n      DebuggerService.error(`Icon Component: SVG icon: ${error.message}`, error);\n      return;\n    }\n  }\n\n  render() {\n    const svg = this.getSvg(this.name);\n    return html`${until(svg)}`;\n  }\n\n  static readonly styles = css`\n    :host {\n      display: flex;\n      align-items: center;\n    }\n\n    svg {\n      width: 100%;\n      height: auto;\n    }\n  `;\n}\n","import { toClassName } from '../utils/toClassName';\n\nexport class BlockService {\n  //TODO: Provider for fetch data\n\n  /**\n   * Extracts the config from a block.\n   * @param {Element} block The block element\n   * @returns {object} The block config\n   */\n  readBlockConfig(block: Element): Record<string, any> {\n    const config: Record<any, any> = {};\n    block.querySelectorAll(':scope > div').forEach((row) => {\n      if (row.children) {\n        const cols = [...row.children];\n        if (cols[1]) {\n          const col = cols[1];\n          const name = toClassName(cols[0].textContent ?? '');\n          let value: any = '';\n          if (col.querySelector('a')) {\n            const as = [...col.querySelectorAll('a')];\n            if (as.length === 1) {\n              value = as[0].href;\n            } else {\n              value = as.map((a) => a.href);\n            }\n          } else if (col.querySelector('img')) {\n            const imgs = [...col.querySelectorAll('img')];\n            if (imgs.length === 1) {\n              value = imgs[0].src;\n            } else {\n              value = imgs.map((img) => img.src);\n            }\n          } else if (col.querySelector('p')) {\n            const ps = [...col.querySelectorAll('p')];\n            if (ps.length === 1) {\n              value = ps[0].textContent;\n            } else {\n              value = ps.map((p) => p.textContent);\n            }\n          } else value = row.children[1].textContent;\n          config[name] = value;\n        }\n      }\n    });\n    return config;\n  }\n\n  /**\n   * Decorates all blocks in a container element.\n   * @param {Element} main The container element\n   */\n  decorateBlocks(main: HTMLElement) {\n    main.querySelectorAll<HTMLDivElement>('div.section > div > div').forEach(this.decorateBlock);\n  }\n\n  /**\n   * Decorates a block.\n   * @param {Element} block The block element\n   */\n  private decorateBlock(block: HTMLElement) {\n    const shortBlockName = block.classList[0];\n    if (shortBlockName) {\n      block.classList.add('block');\n      block.dataset.blockName = shortBlockName;\n      const blockWrapper = block.parentElement;\n      blockWrapper?.classList.add(`${shortBlockName}-wrapper`);\n      const section = block.closest('.section');\n      if (section) section.classList.add(`${shortBlockName}-container`);\n    }\n  }\n}\n","import { toClassName } from './toClassName';\n\n/**\n * Sanitizes a string for use as a JavaScript property name.\n *\n * @param {string} name - The unsanitized string.\n * @returns {string} - The camelCased name.\n *\n * @example\n * // Example usage:\n * const unsanitizedString = 'background-color';\n * const camelCasedName = toCamelCase(unsanitizedString);\n * console.log(camelCasedName); // Output: 'backgroundColor'\n */\nexport function toCamelCase(name: string): string {\n  if (/^[a-z][A-Za-z0-9]*$/.test(name)) {\n    return name;\n  }\n\n  if (/^[A-Z][A-Za-z0-9]*$/.test(name)) {\n    return name.charAt(0).toLowerCase() + name.slice(1);\n  }\n\n  return toClassName(name).replace(/-([a-z])/g, (g: string) => g[1].toUpperCase());\n}\n","import { toCamelCase } from '../utils/toCamelCase';\nimport { toClassName } from '../utils/toClassName';\nimport { BlockService } from './block.service';\n\nexport class SectionService {\n  constructor(private blockService: BlockService) {}\n\n  init(container: HTMLElement) {\n    this.transformSection(container);\n  }\n\n  /**\n   * Decorates all sections in a container element.\n   * @param {Element} main The container element\n   */\n  private transformSection(main: HTMLElement) {\n    main.querySelectorAll<HTMLDivElement>(':scope > div').forEach((section) => {\n      this.adjustMarkup(section);\n      this.processSectionMetaData(section);\n    });\n  }\n\n  private processSectionMetaData(section: HTMLElement) {\n    // Process section metadata\n    const sectionMeta = section.querySelector('div.section-metadata');\n    if (sectionMeta) {\n      const meta = this.blockService.readBlockConfig(sectionMeta);\n      Object.keys(meta).forEach((key) => {\n        if (key === 'style') {\n          const styles = meta.style\n            .split(',')\n            .filter((style: string) => style)\n            .map((style: string) => toClassName(style.trim()));\n          styles.forEach((style: string) => section.classList.add(style));\n        } else {\n          section.dataset[toCamelCase(key)] = meta[key];\n        }\n      });\n      if (sectionMeta.parentElement) sectionMeta.parentElement.remove();\n    }\n  }\n\n  private adjustMarkup(section: HTMLDivElement) {\n    const wrappers: HTMLDivElement[] = [];\n    let defaultContent = false;\n    [...section.children].forEach((e) => {\n      if (e.tagName === 'DIV' || !defaultContent) {\n        const wrapper = document.createElement('div');\n        wrappers.push(wrapper);\n        defaultContent = e.tagName !== 'DIV';\n\n        if (defaultContent) {\n          wrapper.classList.add('default-content-wrapper');\n        }\n      }\n      wrappers[wrappers.length - 1].append(e);\n    });\n    wrappers.forEach((wrapper) => section.append(wrapper));\n    this.decorateImages();\n    section.classList.add('section');\n    section.dataset.sectionStatus = 'initialized';\n    section.style.display = 'none';\n  }\n\n  decorateImages() {\n    const picture = document.querySelectorAll('.default-content-wrapper picture');\n    picture.forEach((item) => {\n      const parentElement = item.parentElement;\n      if (parentElement) {\n        parentElement.classList.add('image', 'main');\n      }\n    });\n  }\n}\n","import { isSidekickLibraryActive } from 'Helpers/sidekick/isSidekickLibraryActive';\nimport { addClasses } from '../utils/addClasses';\nimport { getMetadata } from '../utils/getMetadata';\nimport { BlockService } from './block.service';\nimport { SectionService } from './section.service';\nimport { config } from '../../config.ts';\nimport { getUrlForEndpoint } from '../app/utils/getUrlForEndpoint.ts';\nimport { DebuggerService } from '@kluntje/services';\nimport { getLocation } from 'Helpers/sidekick/getLocation.ts';\n\ntype BlockMapping = {\n  name: string;\n  element: HTMLDivElement;\n};\n\ninterface LcpCandidate extends HTMLElement {\n  complete: boolean;\n}\n\nclass Status {\n  static unloaded = 'unloaded';\n  static loading = 'loading';\n  static loaded = 'loaded';\n  static error = 'error';\n}\n\nexport class MainService {\n  private lcpBlocks = ['banner'];\n\n  constructor(\n    private sectionService: SectionService,\n    private blockService: BlockService\n  ) {}\n\n  init = async () => {\n    console.log('MainService init');\n    this.setup();\n    await this.loadEager();\n    await this.loadLazy();\n  };\n\n  /**\n   * Setup block utils.\n   */\n  private setup() {\n    window.hlx = window.hlx || {};\n    window.hlx.RUM_MASK_URL = 'full';\n    window.hlx.codeBasePath = '';\n    window.hlx.lighthouse = new URLSearchParams(getLocation().search).get('lighthouse') === 'on';\n\n    const scriptEl = document.querySelector('script[src$=\"/scripts/scripts.js\"]') as HTMLScriptElement;\n    if (scriptEl) {\n      try {\n        [window.hlx.codeBasePath] = new URL(scriptEl.src).pathname.split('/scripts/scripts.js');\n      } catch (error) {\n        DebuggerService.error('MainService: Error initializing codeBasePath.', error);\n      }\n    }\n  }\n\n  private loadEager = async () => {\n    // TODO: how to support different languages here\n    document.documentElement.lang = 'en';\n    this.decorateTemplateAndTheme();\n    const main = document.querySelector('main');\n    if (main) {\n      main.setAttribute('id', 'main');\n      //this.addSidebarContainer(main);\n      this.sectionService.init(main);\n      this.addInnerContainer(main); // TODO refactor initializing\n      this.blockService.decorateBlocks(main);\n\n      // TODO: Performance adjustment\n      setTimeout(() => {\n        document.body.classList.add('show');\n      }, 100);\n\n      await this.waitForLCP();\n\n      try {\n        /* if desktop (proxy for fast connection) or fonts already loaded, load fonts.css */\n        if (window.innerWidth >= 900 || sessionStorage.getItem('fonts-loaded')) {\n          await this.loadFonts();\n        }\n      } catch (e) {\n        // do nothing\n      }\n    }\n  };\n\n  private addInnerContainer(main: HTMLElement) {\n    const children = main.innerHTML;\n    main.innerHTML = `<div class=\"inner\">${isSidekickLibraryActive() ? `` : `<header-component id=\"header\"></header-component>`}${children}</div>`;\n  }\n\n  private loadLazy = async () => {\n    const { lazyStylesScssPath, sidekickLibraryStylesScssPath, fontsScssPath } = config;\n    try {\n      if (lazyStylesScssPath) await this.loadCSS('/dist/lazyStyles/lazyStyles.css');\n      if (sidekickLibraryStylesScssPath && isSidekickLibraryActive()) {\n        await this.loadCSS('/dist/sidekickLibraryStyles/sidekickLibraryStyles.css');\n      }\n      if (fontsScssPath) await this.loadFonts();\n      await this.loadBlocks();\n    } catch (error) {\n      DebuggerService.error('MainService: Load lazy error: ', error);\n    }\n  };\n\n  /**\n   * Decorates the template and theme by adding classes to the body.\n   * The classes are defined in the meta tags of the document.\n   * @private\n   * @memberof MainService\n   * @returns {void}\n   * @example\n   * <meta name=\"template\" content=\"template-name\">\n   * <meta name=\"theme\" content=\"theme-name\">\n   * @example\n   * <body class=\"template-name theme-name\">\n   */\n  private decorateTemplateAndTheme() {\n    const template = getMetadata('template');\n    if (template) addClasses(document.body, template);\n    const theme = getMetadata('theme');\n    if (theme) addClasses(document.body, theme);\n  }\n\n  /**\n   * Loads Blocks\n   * by getting all sections and load every block in every section\n   * and shows every section that is finished loading.\n   */\n  private loadBlocks = async () => {\n    const sections = [...document.querySelectorAll<HTMLElement>('.section')];\n    const SectionsPromises = sections.map((section) => this.loadBlock(section));\n\n    await Promise.all(SectionsPromises);\n  };\n\n  private collectBlocks(section: HTMLElement): BlockMapping[] {\n    const blockMap: BlockMapping[] = [];\n    const blocksElements = section.querySelectorAll<HTMLDivElement>('[data-block-name]');\n\n    blocksElements.forEach((block: HTMLDivElement) => {\n      blockMap.push({\n        name: block.dataset['blockName'] as string,\n        element: block,\n      });\n    });\n\n    return blockMap;\n  }\n\n  private async loadBlockModules(block: BlockMapping) {\n    const status = block.element.dataset.blockStatus ?? Status.unloaded;\n\n    if (status === Status.unloaded) {\n      block.element.dataset.blockStatus = Status.loading;\n\n      try {\n        const { href } = getUrlForEndpoint(`dist/${block.name}/${block.name}.js`);\n        const blockModule = await import(href);\n\n        if (blockModule.default) {\n          await blockModule.default(block.element);\n        }\n\n        block.element.dataset.blockStatus = Status.loaded;\n      } catch (error) {\n        block.element.dataset.blockStatus = Status.error;\n        DebuggerService.error('MainService: An error occurred during module import:', error);\n      }\n    }\n  }\n\n  async loadBlockStyles(block: BlockMapping) {\n    try {\n      await this.loadCSS(`dist/${block.name}/${block.name}.css`);\n    } catch (error) {\n      //do nothing\n    }\n  }\n\n  private showSection(section: HTMLElement) {\n    section.style.removeProperty('display');\n  }\n\n  private async loadFonts() {\n    await this.loadCSS('dist/fonts/fonts.css');\n    try {\n      if (!getLocation().hostname.includes('localhost')) sessionStorage.setItem('fonts-loaded', 'true');\n    } catch (e) {\n      console.error('Error setting fonts-loaded in session storage', e);\n      // do nothing\n    }\n  }\n\n  private async loadCSS(endpoint: string) {\n    return new Promise((resolve, reject) => {\n      const { href } = getUrlForEndpoint(endpoint);\n\n      if (!document.querySelector(`head > link[href=\"${href}\"]`)) {\n        const link = document.createElement('link');\n        link.rel = 'stylesheet';\n        link.href = href;\n        link.onload = resolve;\n        link.onerror = reject;\n        document.head.append(link);\n      } else {\n        resolve(true);\n      }\n    });\n  }\n\n  private async waitForLCP() {\n    /* Js Chunks should be loaded\n    Old logic only looks after the first block\n    New logic looks in the first section after lcp candidates, \n    since we show ech section depending on if its blocks and modules are loaded */\n    const firstSection: HTMLElement | null = document.querySelector('.section');\n\n    if (firstSection) {\n      const blocks = this.collectBlocks(firstSection);\n      const blockPromises = blocks.map(async (block) => {\n        const hasLCPBlock = this.lcpBlocks.includes(block.name);\n        if (hasLCPBlock) await Promise.all([this.loadBlockModules(block), this.loadBlockStyles(block)]);\n      });\n\n      await Promise.all(blockPromises);\n      this.showSection(firstSection);\n    }\n\n    // @ts-ignore\n    document.body.style.display = null;\n    const lcpCandidate = document.querySelector<LcpCandidate>('main img');\n\n    await new Promise<void>((resolve) => {\n      if (lcpCandidate && !lcpCandidate.complete) {\n        lcpCandidate.setAttribute('loading', 'eager');\n        lcpCandidate.setAttribute('fetchpriority', 'high');\n        lcpCandidate.addEventListener('load', () => resolve());\n        lcpCandidate.addEventListener('error', () => resolve());\n      } else {\n        resolve();\n      }\n    });\n  }\n\n  private async loadBlock(section: HTMLElement) {\n    const sectionsBlocks: BlockMapping[] = this.collectBlocks(section);\n\n    if (!sectionsBlocks.length) {\n      this.showSection(section);\n      return;\n    }\n\n    for (const block of sectionsBlocks) {\n      Promise.all([this.loadBlockModules(block), this.loadBlockStyles(block)]);\n    }\n\n    this.showSection(section);\n  }\n}\n","// const LCP_BLOCKS: string[] = []; // add your LCP blocks to the list\n\nimport './components/sidebar/sidebar.init.ts';\nimport './components/header.ts';\nimport './components/icon/icon.ts';\nimport { BlockService } from './services/block.service.ts';\nimport { SectionService } from './services/section.service.ts';\nimport { MainService } from './services/main.service.ts';\nimport HLX from './app/index.ts';\n\n//console.time('APP execution time: ');\n\n// export const App = new HLX({\n//   beforeInit: () => {\n//     console.log('beforeInit');\n//   },\n//   afterInit: () => {\n//     console.log('afterInit');\n//   },\n//   beforeLoadEager: () => {\n//     console.log('beforeLoadEager');\n//   },\n//   loadEager: () => {\n//     console.log('loadEager');\n//   },\n//   afterLoadEager: () => {\n//     console.log('afterLoadEager');\n//   },\n//   beforeLoadLazy: () => {\n//     console.log('beforeLoadLazy');\n//   },\n//   loadLazy: () => {\n//     console.log('loadLazy');\n//   },\n//   afterLoadLazy: () => {\n//     console.log('afterLoadLazy');\n//   },\n//   beforeLoadDelayed: () => {\n//     console.log('beforeLoadDelayed');\n//   },\n//   loadDelayed: () => {\n//     console.log('loadDelayed');\n//   },\n//   afterLoadDelayed: () => {\n//     console.log('afterLoadDelayed');\n//   },\n// });\n\n// export const App = HLX; // init -> loadEager (3s)\n\n// HLX.initialized().then(() => {\n//   console.log('INITIALIZED');\n// });\n\n// HLX.loadDelayed().then(() => {\n//   console.log('LOAD DELAYED 2');\n// });\n\n// HLX.loadDelayed().then(() => {\n//   console.log('LOAD DELAYED 3');\n// });\n\n// HLX.loadDelayed().then(() => {\n//   console.log('LOAD DELAYED 1');\n// });\n\n// HLX.beforeLoadEager().then(() => {\n//   console.log('BEFORE LOAD EAGER');\n// });\n\nHLX.addBeforeEagerTask(() => {\n  console.log('BEFORE EAGER MAIN TS');\n  return Promise.resolve();\n});\n\nHLX.addLoadEagerTask(() => {\n  console.log('LOAD EAGER MAIN TS');\n  return Promise.resolve();\n});\n\nHLX.init();\n\n// HLX.loadEager().then(() => {\n//   console.log('LOAD EAGER');\n// });\n\n// HLX.loadLazy().then(() => {\n//   console.log('LOAD LAZY');\n// });\n\n// HLX.beforeLoadDelayed().then(() => {\n//   console.log('BEFORE LOAD DELAYED');\n// });\n\n// HLX.beforeLoadLazy().then(() => {\n//   console.log('BEFORE LOAD LAZY');\n// });\n\n// eager, lazy, delayed\n\n//console.timeEnd('HLX execution time: ');\n(async function () {\n  try {\n    //await App.initialized();\n\n    const blockService = new BlockService();\n    const sectionService = new SectionService(blockService);\n    const main = new MainService(sectionService, blockService);\n    await main.init();\n  } catch (error) {}\n})();\n\ndeclare global {\n  interface Window {\n    hlx: {\n      RUM_MASK_URL: string;\n      codeBasePath: string;\n      lighthouse: boolean;\n    };\n  }\n}\n"],"file":"main/main.js"}
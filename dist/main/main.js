import{_ as d,a as c}from"../__chunks__/tslib.es6.cver2Yc4.js";import{s as p,i as g}from"../__chunks__/private-ssr-support.uesIj2BQ.js";import{n as I,t as h}from"../__chunks__/property.1qlbxKtf.js";import{_ as H}from"../__chunks__/icon.A7VK-a5B.js";import{o as A}from"../__chunks__/unsafe-html.VQc1Wq6T.js";import{c as N}from"../__chunks__/createOptimizedPicture.F94eikeI.js";/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function v(s){return I({...s,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const L=(s,e,t)=>(t.configurable=!0,t.enumerable=!0,Reflect.decorate&&typeof e!="object"&&Object.defineProperty(s,e,t),t);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function O(s,e){return(t,o,n)=>{const i=a=>{var u;return((u=a.renderRoot)==null?void 0:u.querySelector(s))??null};if(e){const{get:a,set:u}=typeof o=="object"?t:n??(()=>{const r=Symbol();return{get(){return this[r]},set(l){this[r]=l}}})();return L(t,o,{get(){let r=a.call(this);return r===void 0&&(r=i(this),(r!==null||this.hasUpdated)&&u.call(this,r)),r}})}return L(t,o,{get(){return i(this)}})}}var $={},E;function j(s){return function(...e){return function(t,o,n){return Object.assign(Object.assign({},n),{value:s(n.value,...e)})}}}Object.defineProperty($,"__esModule",{value:!0});const U=j(function(s,e=0){let t=-1;const o=function(...n){clearTimeout(t),t=window.setTimeout(()=>{s.call(this,...n)},e)};return o.cancel=function(){clearTimeout(t)},o}),F=j(function(s,e=0){let t,o=[];const n=function(...i){o=i,t===void 0&&(t=window.setTimeout(()=>{t=void 0,s.call(this,...o)},e))};return n.cancel=function(){clearTimeout(t),t=void 0},n});E=$.debounce=U,$.throttle=F;const{AttributePart:q,EventPart:V}=g,m=s=>s,z={h:m` <nav id="menu">\n      <header class="major">\n        <h2>Menu</h2>\n      </header>\n      <?>\n    </nav>`,parts:[{type:2,index:3}]},W={h:m`<span class="opener submenu">\n        <span class="submenu__text"><?> </span>\n        <icon-component class="submenu__icon" name="chevron-down"></icon-component>\n      </span>\n      <ul>\n        <?>\n      </ul>`,parts:[{type:1,index:0,name:"click",strings:["",""],ctor:V},{type:2,index:2},{type:2,index:5}]},J={h:m`<li><a><?></a></li>`,parts:[{type:1,index:1,name:"href",strings:["",""],ctor:q},{type:2,index:2}]},K={h:m` <li>\n      <?>\n    </li>`,parts:[{type:2,index:1}]},G={h:m`<a><?></a>`,parts:[{type:1,index:0,name:"href",strings:["",""],ctor:q},{type:2,index:1}]},Q={h:m` <ul>\n      <?>\n    </ul>`,parts:[{type:2,index:1}]};let x=class extends p{constructor(){super(...arguments),this.getSubmenuName=e=>e.path.split("/")[1],this.groupByFirstLevelPath=e=>{const t={};return e.forEach(n=>{const i=this.getSubmenuName(n);t[i]||(t[i]=[]),t[i].push({path:n.path,navtitle:this.getNavTitle(n)})}),Object.values(t).map(n=>n.length===1?n[0]:{navtitle:n[0].path.split("/")[1],path:n[0].path,children:n})}}createRenderRoot(){return this}firstUpdated(){return c(this,void 0,void 0,function*(){const e=yield this.fetchSitemap();this.items=this.groupByFirstLevelPath(e)})}render(){if(this.items)return{_$litType$:z,values:[this.renderMenuItems()]}}toggleSubmenu({currentTarget:e}){!(e instanceof HTMLElement)||!e.classList.contains("opener")||e.classList.toggle("active")}renderSubMenu(e){return{_$litType$:W,values:[this.toggleSubmenu,e.navtitle,e.children.map(t=>({_$litType$:J,values:[t.path,t.navtitle]}))]}}renderMenuItem(e){return{_$litType$:K,values:[e.children!==void 0?this.renderSubMenu(e):{_$litType$:G,values:[e.path,e.navtitle]}]}}renderMenuItems(){return{_$litType$:Q,values:[this.items.map(e=>this.renderMenuItem(e))]}}fetchSitemap(){return c(this,void 0,void 0,function*(){return(yield(yield fetch(`${window.hlx.codeBasePath}/query-index.json`)).json()).data})}getNavTitle(e){return e.path==="/"?"Homepage":e.navtitle||e.title}};d([v()],x.prototype,"items",void 0);x=d([h("sidebar-nav")],x);const _=s=>c(void 0,void 0,void 0,function*(){const{endpoint:e,getJson:t=!1,init:o}=s,n=e.startsWith("/")?e:`/${e}`,i=yield fetch(`${window.hlx.codeBasePath}${n}`,o);return t?yield i.json():yield i.text()}),{AttributePart:X}=g,B=s=>s,Y={h:B`\n      <section>\n        <header class="major"><?></header>\n        <?>\n        <ul class="contact">\n          <?>\n        </ul>\n      </section>\n    `,parts:[{type:2,index:2},{type:2,index:3},{type:2,index:5}]},Z={h:B` <li class="icon solid">\n              <icon-component></icon-component>\n              <?>\n            </li>`,parts:[{type:1,index:1,name:"name",strings:["",""],ctor:X},{type:2,index:2}]};let k=class extends p{createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.fetchContactData()}fetchContactData(){return c(this,void 0,void 0,function*(){const e=yield _({endpoint:"contact.plain.html"}),t=document.createElement("div");t.innerHTML=e,this.contactTemplateArgs={headline:t.querySelector("h2"),text:t.querySelector("p"),contacts:Array.from(t.querySelectorAll(".contact > div:not(:first-child)")).map(o=>{var n,i;return{contactIcon:(n=o.querySelector("div"))===null||n===void 0?void 0:n.innerText,contactMarkup:(i=o.querySelector("div:last-child"))===null||i===void 0?void 0:i.innerHTML}})}})}render(){if(!this.contactTemplateArgs)return;const{headline:e,text:t,contacts:o}=this.contactTemplateArgs;return{_$litType$:Y,values:[e,t,o.map(n=>({_$litType$:Z,values:[n.contactIcon,A(n.contactMarkup)]}))]}}};d([v()],k.prototype,"contactTemplateArgs",void 0);k=d([h("sidebar-contact")],k);const{AttributePart:ee}=g,D=s=>s,te={h:D`\n      <header class="major">\n        <h2>Newest Posts</h2>\n      </header>\n      <div class="mini-posts"><?></div>\n    `,parts:[{type:2,index:3}]},ne={h:D` <article>\n      <a class="image">\n        <?>\n      </a>\n      <p><?></p>\n    </article>`,parts:[{type:1,index:1,name:"href",strings:["",""],ctor:ee},{type:2,index:2},{type:2,index:4}]};let T=class extends p{connectedCallback(){const e=Object.create(null,{connectedCallback:{get:()=>super.connectedCallback}});return c(this,void 0,void 0,function*(){e.connectedCallback.call(this);const t=yield this.fetchSitemap(),o=this.getPosts(t);this.lastThreePosts=this.getLastThreePosts(o)})}render(){if(this.lastThreePosts)return{_$litType$:te,values:[this.lastThreePosts.map(e=>this.renderPost(e))]}}createRenderRoot(){return this}getLastThreePosts(e){return e.sort((t,o)=>t.lastModified>o.lastModified?-1:t.lastModified<o.lastModified?1:0),e.slice(0,3)}fetchSitemap(){return c(this,void 0,void 0,function*(){return(yield _({endpoint:"/query-index.json",getJson:!0})).data})}renderPost(e){return{_$litType$:ne,values:[e.path,N({src:e.image,alt:e.imagealt}),e.description]}}getPosts(e){return e.filter(t=>t.path.includes("/posts"))}};d([v()],T.prototype,"lastThreePosts",void 0);T=d([h("sidebar-posts")],T);const oe=s=>s,se={h:oe`<?><!--?-->`,parts:[{type:2,index:0}]};let w=class extends p{createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.fetchFooterData()}fetchFooterData(){return c(this,void 0,void 0,function*(){const e=yield _({endpoint:"footer.plain.html"}),t=document.createElement("div");t.innerHTML=e,this.footerMarkup=t.querySelector("p"),this.footerMarkup&&this.footerMarkup.classList.add("copyright")})}render(){if(this.footerMarkup)return{_$litType$:se,values:[this.footerMarkup]}}};d([v()],w.prototype,"footerMarkup",void 0);w=d([h("sidebar-footer")],w);const ie=s=>s,re={h:ie`\n      <div class="inner">\n        <sidebar-nav></sidebar-nav>\n        <sidebar-posts></sidebar-posts>\n        <sidebar-contact></sidebar-contact>\n        <sidebar-footer id="footer"></sidebar-footer>\n      </div>\n      <a href="#sidebar" class="toggle hamburger-icon" aria-label="Sidebar toggle"><icon-component name="hamburger"></icon-component></a>\n    `,parts:[]};let b=class extends p{constructor(){super(...arguments),this.handleToggleClick=e=>{e.preventDefault(),this.classList.toggle("inactive")}}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),window.addEventListener("resize",this.setInitialVisibility.bind(this))}setInitialVisibility(){window.innerWidth<=1280?this.classList.add("inactive"):this.classList.remove("inactive")}firstUpdated(){this.toggle.addEventListener("click",this.handleToggleClick)}render(){return{_$litType$:re,values:[]}}};d([O(".toggle")],b.prototype,"toggle",void 0);d([E(100)],b.prototype,"setInitialVisibility",null);b=d([h("sidebar-component")],b);function ae({input:s,specifier:e,htmlTag:t}){return s.split(e).map((o,n)=>n%2===1?`<${t}>${o}</${t}>`:o).join("")}const{AttributePart:y}=g,R=s=>s,ce={h:R`\n      <a class="logo"> <?> </a>\n      <ul class="icons">\n        <?>\n      </ul>\n    `,parts:[{type:1,index:0,name:"href",strings:["",""],ctor:y},{type:2,index:1},{type:2,index:3}]},le={h:R`\n            <li>\n              <a class="icon brands">\n                <icon-component class="header-icon"></icon-component>\n                <span class="label"><?></span></a>\n            </li>\n          `,parts:[{type:1,index:1,name:"href",strings:["",""],ctor:y},{type:1,index:1,name:"aria-label",strings:["",""],ctor:y},{type:1,index:2,name:"name",strings:["",""],ctor:y},{type:2,index:4}]};let C=class extends p{createRenderRoot(){return this}firstUpdated(e){return c(this,void 0,void 0,function*(){yield this.fetchHeaderData()})}fetchHeaderData(){return c(this,void 0,void 0,function*(){try{const e=yield _({endpoint:"header.json",getJson:!0});this.headerData={leftCol:e.leftCol.data[0],rightCol:e.rightCol.data}}catch(e){console.error("HeaderComponent: ",e)}})}render(){if(!this.headerData)return;const{leftCol:e,rightCol:t}=this.headerData,o=ae({input:e.logoText,htmlTag:"strong",specifier:":::"}),n=A(o);return{_$litType$:ce,values:[e.logoLink,n,t.map(i=>({_$litType$:le,values:[i.socialLink,i.socialLabel,i.socialIcon,i.socialLabel]}))]}}};d([v()],C.prototype,"headerData",void 0);C=d([h("header-component")],C);function S(s){return typeof s=="string"?s.toLowerCase().replace(/[^0-9a-z]/gi,"-").replace(/-+/g,"-").replace(/^-|-$/g,""):""}class de{readBlockConfig(e){const t={};return e.querySelectorAll(":scope > div").forEach(o=>{var n;if(o.children){const i=[...o.children];if(i[1]){const a=i[1],u=S((n=i[0].textContent)!==null&&n!==void 0?n:"");let r="";if(a.querySelector("a")){const l=[...a.querySelectorAll("a")];l.length===1?r=l[0].href:r=l.map(f=>f.href)}else if(a.querySelector("img")){const l=[...a.querySelectorAll("img")];l.length===1?r=l[0].src:r=l.map(f=>f.src)}else if(a.querySelector("p")){const l=[...a.querySelectorAll("p")];l.length===1?r=l[0].textContent:r=l.map(f=>f.textContent)}else r=o.children[1].textContent;t[u]=r}}}),t}decorateBlocks(e){e.querySelectorAll("div.section > div > div").forEach(this.decorateBlock)}decorateBlock(e){const t=e.classList[0];if(t){e.classList.add("block"),e.dataset.blockName=t;const o=e.parentElement;o==null||o.classList.add(`${t}-wrapper`);const n=e.closest(".section");n&&n.classList.add(`${t}-container`)}}}function ue(s){return S(s).replace(/-([a-z])/g,e=>e[1].toUpperCase())}class pe{constructor(e){this.blockService=e}init(e){this.transformSection(e)}transformSection(e){e.querySelectorAll(":scope > div").forEach(t=>{this.adjustMarkup(t),this.processSectionMetaData(t)})}processSectionMetaData(e){const t=e.querySelector("div.section-metadata");if(t){const o=this.blockService.readBlockConfig(t);Object.keys(o).forEach(n=>{n==="style"?o.style.split(",").filter(a=>a).map(a=>S(a.trim())).forEach(a=>e.classList.add(a)):e.dataset[ue(n)]=o[n]}),t.parentElement&&t.parentElement.remove()}}adjustMarkup(e){const t=[];let o=!1;[...e.children].forEach(n=>{if(n.tagName==="DIV"||!o){const i=document.createElement("div");t.push(i),o=n.tagName!=="DIV",o&&i.classList.add("default-content-wrapper")}t[t.length-1].append(n)}),t.forEach(n=>e.append(n)),this.decorateImages(),e.classList.add("section"),e.dataset.sectionStatus="initialized",e.style.display="none"}decorateImages(){document.querySelectorAll(".default-content-wrapper picture").forEach(t=>{const o=t.parentElement;o&&o.classList.add("image","main")})}}const M=(s,e)=>{e.split(",").forEach(t=>{s.classList.add(S(t.trim()))})};function P(s,e=document){const t=s&&s.includes(":")?"property":"name",n=[...e.head.querySelectorAll(`meta[${t}="${s}"]`)].map(i=>i.content).join(", ");return n.length?n:""}class he{constructor(e,t){this.sectionService=e,this.blockService=t,this.init=()=>c(this,void 0,void 0,function*(){this.setup(),yield this.loadEager()}),this.loadEager=()=>c(this,void 0,void 0,function*(){if(document.documentElement.lang="en",this.decorateTemplateAndTheme(),document){const n=document.querySelector("body");n&&(n.style.display="none")}const o=document.querySelector("main");o&&(o.setAttribute("id","main"),this.addSidebarContainer(o),this.sectionService.init(o),this.addInnerContainer(o),this.blockService.decorateBlocks(o),yield this.loadBlocks(),setTimeout(()=>{document.body.removeAttribute("style")},200))}),this.loadBlocks=()=>c(this,void 0,void 0,function*(){document.querySelectorAll(".section").forEach(n=>c(this,void 0,void 0,function*(){const i=this.collectBlocks(n);if(!i.length){this.showSection(n);return}yield this.loadBlockModules(i),this.showSection(n)}))})}setup(){window.hlx=window.hlx||{},window.hlx.RUM_MASK_URL="full",window.hlx.codeBasePath="",window.hlx.lighthouse=new URLSearchParams(window.location.search).get("lighthouse")==="on";const e=document.querySelector('script[src$="/scripts/scripts.js"]');if(e)try{[window.hlx.codeBasePath]=new URL(e.src).pathname.split("/scripts/scripts.js")}catch(t){console.log(t)}}addSidebarContainer(e){const t=document.createElement("sidebar-component");t.setAttribute("id","sidebar"),window.innerWidth<=1280?t.classList.add("inactive"):t.classList.remove("inactive"),e.after(t)}addInnerContainer(e){const t=e.innerHTML;e.innerHTML=`<div class="inner"><header-component id="header"></header-component>${t}</div>`}decorateTemplateAndTheme(){const e=P("template");e&&M(document.body,e);const t=P("theme");t&&M(document.body,t)}collectBlocks(e){const t=[];return e.querySelectorAll("[data-block-name]").forEach(n=>{t.push({name:n.dataset.blockName,element:n})}),t}loadBlockModules(e){return c(this,void 0,void 0,function*(){for(const t of e){const o=yield H(()=>import(`${window.hlx.codeBasePath}/dist/${t.name}/${t.name}.js`),__vite__mapDeps([]));o.default&&(yield o.default(t.element))}})}showSection(e){e.style.removeProperty("display")}}(function(){return c(this,void 0,void 0,function*(){const s=new de,e=new pe(s);yield new he(e,s).init()})})();
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=main.js.map

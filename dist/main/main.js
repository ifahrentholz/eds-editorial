import{T as h,s as p,x as l}from"../__chunks__/lit-element.XkUWx5ik.js";import{n as J,f as K,t as m,_ as Q}from"../__chunks__/icon.jjSd6ARB.js";import{e as G,o as k}from"../__chunks__/unsafe-html.U1vgpvJh.js";import{F as v,c as X}from"../__chunks__/createOptimizedPicture.m3G7L1Pf.js";/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function y(e){return J({...e,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Z=()=>new ee;class ee{}const S=new WeakMap,te=G(class extends K{render(e){return h}update(e,[t]){var a;const s=t!==this.Y;return s&&this.Y!==void 0&&this.rt(void 0),(s||this.lt!==this.ct)&&(this.Y=t,this.ht=(a=e.options)==null?void 0:a.host,this.rt(this.ct=e.element)),h}rt(e){if(typeof this.Y=="function"){const t=this.ht??globalThis;let s=S.get(t);s===void 0&&(s=new WeakMap,S.set(t,s)),s.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),s.set(this.Y,e),e!==void 0&&this.Y.call(this.ht,e)}else this.Y.value=e}get lt(){var e,t;return typeof this.Y=="function"?(e=S.get(this.ht??globalThis))==null?void 0:e.get(this.Y):(t=this.Y)==null?void 0:t.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var se=Object.defineProperty,ae=Object.getOwnPropertyDescriptor,R=(e,t,s,a)=>{for(var o=a>1?void 0:a?ae(t,s):t,n=e.length-1,r;n>=0;n--)(r=e[n])&&(o=(a?r(t,s,o):r(o))||o);return a&&o&&se(t,s,o),o};let P=class extends p{constructor(){super(...arguments),this.getSubmenuName=e=>e.path.split("/")[1],this.groupByFirstLevelPath=async()=>{const e={};return(await v.fetchJson("/query-index.json")).data.forEach(a=>{const o=this.getSubmenuName(a);e[o]||(e[o]=[]),e[o].push({path:a.path,navtitle:this.getNavTitle(a)})}),Object.values(e).map(a=>a.length===1?a[0]:{navtitle:a[0].path.split("/")[1],path:a[0].path,children:a})}}createRenderRoot(){return this}async firstUpdated(){this.items=await this.groupByFirstLevelPath()}render(){if(this.items)return l`<nav id="menu"><header class="major"><h2>Menu</h2></header>${this.renderMenuItems()}</nav>`}toggleSubmenu({currentTarget:e}){!(e instanceof HTMLElement)||!e.classList.contains("opener")||e.classList.toggle("active")}renderSubMenu(e){return l`<span @click="${this.toggleSubmenu}" class="opener submenu"><span class="submenu__text">${e.navtitle}</span><icon-component class="submenu__icon" name="chevron-down"></icon-component></span><ul>${e.children.map(t=>l`<li><a href="${t.path}">${t.navtitle}</a></li>`)}</ul>`}renderMenuItem(e){return l`<li>${e.children!==void 0?this.renderSubMenu(e):l`<a href="${e.path}">${e.navtitle}</a>`}</li>`}renderMenuItems(){return l`<ul>${this.items.map(e=>this.renderMenuItem(e))}</ul>`}getNavTitle(e){return e.path==="/"?"Homepage":e.navtitle||e.title}};R([y()],P.prototype,"items",2);P=R([m("sidebar-nav")],P);var oe=Object.defineProperty,ne=Object.getOwnPropertyDescriptor,j=(e,t,s,a)=>{for(var o=a>1?void 0:a?ne(t,s):t,n=e.length-1,r;n>=0;n--)(r=e[n])&&(o=(a?r(t,s,o):r(o))||o);return a&&o&&oe(t,s,o),o};let E=class extends p{async connectedCallback(){super.connectedCallback();const e=await this.fetchContactsHtml();this.getContactTemplateArgs(e)}async fetchContactsHtml(){const e=new DOMParser,t=await v.fetchText("contact.plain.html",{cacheOptions:{cacheType:"runtime"}});return e.parseFromString(t,"text/html")}renderHeader(e){return e?l`<header class="major"><h2>${e}</h2></header>`:h}renderText(e){return e?l`<p>${e}</p>`:h}render(){if(!this.contactTemplateArgs)return h;const{headline:e,text:t,contacts:s}=this.contactTemplateArgs;return l`<section>${this.renderHeader(e)} ${this.renderText(t)} ${this.renderContacts(s)}</section>`}createRenderRoot(){return this}renderContact(e){const{icon:t,markup:s}=e;return!t&&!s?h:l`<li class="icon solid">${this.renderIcon(t)} ${this.renderContactMarkup(s)}</li>`}getContactsArgs(e){const t=e.querySelectorAll(".contact > div:not(:first-child)");return Array.from(t).map(a=>({icon:a.querySelector("div"),markup:a.querySelector("div:last-child")}))}getContactTemplateArgs(e){const t=e.querySelector("h2"),s=e.querySelector("p"),a=this.getContactsArgs(e);this.contactTemplateArgs={headline:t,text:s,contacts:a}}renderContacts(e){return e.length===0?h:l`<ul class="contact">${e.map(t=>this.renderContact(t))}</ul>`}renderIcon(e){return e?l`<icon-component class="icon-component" name="${e.innerHTML}"></icon-component>`:h}renderContactMarkup(e){return e?k(e.innerHTML):h}};j([y()],E.prototype,"contactTemplateArgs",2);E=j([m("sidebar-contact")],E);var re=Object.defineProperty,ie=Object.getOwnPropertyDescriptor,z=(e,t,s,a)=>{for(var o=a>1?void 0:a?ie(t,s):t,n=e.length-1,r;n>=0;n--)(r=e[n])&&(o=(a?r(t,s,o):r(o))||o);return a&&o&&re(t,s,o),o};let M=class extends p{constructor(){super()}async connectedCallback(){super.connectedCallback();const e=await this.getPosts();this.lastTreePosts=this.getLastThreePosts(e)}render(){if(this.lastTreePosts)return l`<header class="major"><h2>Newest Posts</h2></header><div class="mini-posts">${this.lastTreePosts.map(e=>this.renderPost(e))}</div>`}createRenderRoot(){return this}getLastThreePosts(e){return e.sort((t,s)=>t.lastModified>s.lastModified?-1:t.lastModified<s.lastModified?1:0),e.slice(0,3)}renderPost(e){return l`<article><a href="${e.path}" class="image">${X({src:e.image,alt:e.imagealt,width:336,height:224})}</a><p>${e.description}</p></article>`}async getPosts(){return(await v.fetchJson("/query-index.json")).data.filter(t=>t.path.includes("/posts"))}};z([y()],M.prototype,"lastTreePosts",2);M=z([m("sidebar-posts")],M);var ce=Object.defineProperty,le=Object.getOwnPropertyDescriptor,H=(e,t,s,a)=>{for(var o=a>1?void 0:a?le(t,s):t,n=e.length-1,r;n>=0;n--)(r=e[n])&&(o=(a?r(t,s,o):r(o))||o);return a&&o&&ce(t,s,o),o};let x=class extends p{createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.fetchFooterData()}async fetchFooterData(){const e=await v.fetchText("footer.plain.html",{cacheOptions:{cacheType:"runtime"}}),t=document.createElement("div");t.innerHTML=e,this.footerMarkup=t.querySelector("p"),this.footerMarkup&&this.footerMarkup.classList.add("copyright")}render(){if(this.footerMarkup)return l`${this.footerMarkup}`}};H([y()],x.prototype,"footerMarkup",2);x=H([m("sidebar-footer")],x);var de=Object.defineProperty,he=Object.getOwnPropertyDescriptor,ue=(e,t,s,a)=>{for(var o=a>1?void 0:a?he(t,s):t,n=e.length-1,r;n>=0;n--)(r=e[n])&&(o=(a?r(t,s,o):r(o))||o);return a&&o&&de(t,s,o),o};let _=class extends p{constructor(){super(...arguments),this.toggleRef=Z(),this.handleToggleClick=e=>{e.preventDefault(),this.classList.toggle("active")}}createRenderRoot(){return this}firstUpdated(){this.toggleRef.value.addEventListener("click",this.handleToggleClick),this.classList.add("activate-animations")}render(){return l`<div class="inner"><sidebar-nav></sidebar-nav><sidebar-posts></sidebar-posts><sidebar-contact></sidebar-contact><sidebar-footer id="footer"></sidebar-footer></div><a ${te(this.toggleRef)} href="#sidebar" class="toggle hamburger-icon" aria-label="Sidebar toggle"><icon-component class="icon-component" name="hamburger"></icon-component></a>`}};_=ue([m("sidebar-component")],_);function fe({input:e,specifier:t,htmlTag:s}){return e.split(t).map((a,o)=>o%2===1?`<${s}>${a}</${s}>`:a).join("")}var pe=Object.defineProperty,me=Object.getOwnPropertyDescriptor,F=(e,t,s,a)=>{for(var o=a>1?void 0:a?me(t,s):t,n=e.length-1,r;n>=0;n--)(r=e[n])&&(o=(a?r(t,s,o):r(o))||o);return a&&o&&pe(t,s,o),o};let T=class extends p{createRenderRoot(){return this}async firstUpdated(e){await this.fetchHeaderData()}async fetchHeaderData(){try{const e=await v.fetchJson("header.json",{cacheOptions:{cacheType:"runtime"}});this.headerData={leftCol:e.leftCol.data[0],rightCol:e.rightCol.data}}catch(e){console.error("HeaderComponent: ",e)}}render(){if(!this.headerData)return;const{leftCol:e,rightCol:t}=this.headerData,s=fe({input:e.logoText,htmlTag:"strong",specifier:":::"}),a=k(s);return l`<a href="${e.logoLink}" class="logo">${a}</a><ul class="icons">${t.map(o=>l`<li><a href="${o.socialLink}" class="icon brands" aria-label="${o.socialLabel}"><icon-component class="header-icon" name="${o.socialIcon}"></icon-component><span class="label">${o.socialLabel}</span></a></li>`)}</ul>`}};F([y()],T.prototype,"headerData",2);T=F([m("header-component")],T);function L(e){return e.toLowerCase().replace(/[^0-9a-z]/gi,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}class ge{readBlockConfig(t){const s={};return t.querySelectorAll(":scope > div").forEach(a=>{if(a.children){const o=[...a.children];if(o[1]){const n=o[1],r=L(o[0].textContent??"");let d="";if(n.querySelector("a")){const c=[...n.querySelectorAll("a")];c.length===1?d=c[0].href:d=c.map(g=>g.href)}else if(n.querySelector("img")){const c=[...n.querySelectorAll("img")];c.length===1?d=c[0].src:d=c.map(g=>g.src)}else if(n.querySelector("p")){const c=[...n.querySelectorAll("p")];c.length===1?d=c[0].textContent:d=c.map(g=>g.textContent)}else d=a.children[1].textContent;s[r]=d}}}),s}decorateBlocks(t){t.querySelectorAll("div.section > div > div").forEach(this.decorateBlock)}decorateBlock(t){const s=t.classList[0];if(s){t.classList.add("block"),t.dataset.blockName=s;const a=t.parentElement;a==null||a.classList.add(`${s}-wrapper`);const o=t.closest(".section");o&&o.classList.add(`${s}-container`)}}}function ve(e){return L(e).replace(/-([a-z])/g,t=>t[1].toUpperCase())}class ye{constructor(t){this.blockService=t}init(t){this.transformSection(t)}transformSection(t){t.querySelectorAll(":scope > div").forEach(s=>{this.adjustMarkup(s),this.processSectionMetaData(s)})}processSectionMetaData(t){const s=t.querySelector("div.section-metadata");if(s){const a=this.blockService.readBlockConfig(s);Object.keys(a).forEach(o=>{o==="style"?a.style.split(",").filter(r=>r).map(r=>L(r.trim())).forEach(r=>t.classList.add(r)):t.dataset[ve(o)]=a[o]}),s.parentElement&&s.parentElement.remove()}}adjustMarkup(t){const s=[];let a=!1;[...t.children].forEach(o=>{if(o.tagName==="DIV"||!a){const n=document.createElement("div");s.push(n),a=o.tagName!=="DIV",a&&n.classList.add("default-content-wrapper")}s[s.length-1].append(o)}),s.forEach(o=>t.append(o)),this.decorateImages(),t.classList.add("section"),t.dataset.sectionStatus="initialized",t.style.display="none"}decorateImages(){document.querySelectorAll(".default-content-wrapper picture").forEach(s=>{const a=s.parentElement;a&&a.classList.add("image","main")})}}const D=(e,t)=>{t.split(",").forEach(s=>{e.classList.add(L(s.trim()))})};function A(e,t=document){const s=e&&e.includes(":")?"property":"name",o=[...t.head.querySelectorAll(`meta[${s}="${e}"]`)].map(n=>n.content).join(", ");return o.length?o:""}const we={mainTsPath:"src/main.ts",mainScssPath:"src/styles/sass/main.scss",fontsScssPath:"src/styles/sass/fonts.scss",lazyStylesScssPath:"src/styles/sass/lazy-styles.scss"},f=class f{};f.unloaded="unloaded",f.loading="loading",f.loaded="loaded",f.error="error";let u=f;class be{constructor(t,s){this.sectionService=t,this.blockService=s,this.lcpBlocks=["banner"],this.init=async()=>{this.setup(),await this.loadEager(),await this.loadLazy()},this.loadEager=async()=>{document.documentElement.lang="en",this.decorateTemplateAndTheme();const a=document.querySelector("main");if(a){a.setAttribute("id","main"),this.addSidebarContainer(a),this.sectionService.init(a),this.addInnerContainer(a),this.blockService.decorateBlocks(a),setTimeout(()=>{document.body.classList.add("show")},100),await this.waitForLCP();try{(window.innerWidth>=900||sessionStorage.getItem("fonts-loaded"))&&await this.loadFonts()}catch{}}},this.loadLazy=async()=>{const{lazyStylesScssPath:a,fontsScssPath:o}=we;try{a&&await this.loadCSS(`${window.hlx.codeBasePath}/dist/lazyStyles/lazyStyles.css`),o&&await this.loadFonts(),await this.loadBlocks()}catch(n){console.error("Load lazy error: ",n)}},this.loadBlocks=async()=>{const o=[...document.querySelectorAll(".section")].map(n=>this.loadBlock(n));await Promise.all(o)}}setup(){window.hlx=window.hlx||{},window.hlx.RUM_MASK_URL="full",window.hlx.codeBasePath="",window.hlx.lighthouse=new URLSearchParams(window.location.search).get("lighthouse")==="on";const t=document.querySelector('script[src$="/scripts/scripts.js"]');if(t)try{[window.hlx.codeBasePath]=new URL(t.src).pathname.split("/scripts/scripts.js")}catch(s){console.log(s)}}addSidebarContainer(t){const s=document.createElement("sidebar-component");s.setAttribute("id","sidebar"),window.innerWidth<=1280?s.classList.remove("active"):s.classList.add("active"),window.innerWidth<=1280?s.classList.remove("active"):s.classList.add("active"),t.after(s)}addInnerContainer(t){const s=t.innerHTML;t.innerHTML=`<div class="inner"><header-component id="header"></header-component>${s}</div>`}decorateTemplateAndTheme(){const t=A("template");t&&D(document.body,t);const s=A("theme");s&&D(document.body,s)}collectBlocks(t){const s=[];return t.querySelectorAll("[data-block-name]").forEach(o=>{s.push({name:o.dataset.blockName,element:o})}),s}async loadBlockModules(t){if((t.element.dataset.blockStatus??u.unloaded)===u.unloaded){t.element.dataset.blockStatus=u.loading;try{const a=await Q(()=>import(`${window.hlx.codeBasePath}/dist/${t.name}/${t.name}.js`),__vite__mapDeps([]));a.default&&await a.default(t.element),t.element.dataset.blockStatus=u.loaded}catch(a){t.element.dataset.blockStatus=u.error,console.error("An error occurred during module import:",a)}}}async loadBlockStyles(t){try{await this.loadCSS(`${window.hlx.codeBasePath}/dist/${t.name}/${t.name}.css`)}catch{console.error(`problem with block '${t.name}' loading styles`)}}showSection(t){t.style.removeProperty("display")}async loadFonts(){await this.loadCSS(`${window.hlx.codeBasePath}/dist/fonts/fonts.css`);try{window.location.hostname.includes("localhost")||sessionStorage.setItem("fonts-loaded","true")}catch{}}async loadCSS(t){return new Promise((s,a)=>{if(document.querySelector(`head > link[href="${t}"]`))s(!0);else{const o=document.createElement("link");o.rel="stylesheet",o.href=t,o.onload=s,o.onerror=a,document.head.append(o)}})}async waitForLCP(){const t=document.querySelector(".section");if(t){const o=this.collectBlocks(t).map(async n=>{this.lcpBlocks.includes(n.name)&&await this.loadBlockModules(n)});await Promise.all(o),this.showSection(t)}document.body.style.display=null;const s=document.querySelector("main img");await new Promise(a=>{s&&!s.complete?(s.setAttribute("loading","eager"),s.setAttribute("fetchpriority","high"),s.addEventListener("load",()=>a()),s.addEventListener("error",()=>a())):a()})}async loadBlock(t){const s=this.collectBlocks(t);if(!s.length){this.showSection(t);return}for(const a of s)await this.loadBlockModules(a),await this.loadBlockStyles(a);this.showSection(t)}}var i={},w;Object.defineProperty(i,"__esModule",{value:!0});const N=(e,t)=>e===null?[]:e instanceof Document||e.shadowRoot===null||e.shadowRoot===void 0?Array.from(e.querySelectorAll(t)):Array.from(e.shadowRoot.querySelectorAll(t)),B=(e,...t)=>{if(e!==void 0&&t.length!==0&&e!==null){e instanceof Element&&(e=[e]),e instanceof NodeList&&(e=Array.from(e));for(const s of e)s.classList.remove(...t)}},$=(e,...t)=>{if(e!==void 0&&t.length!==0&&e!==null){e instanceof Element&&(e=[e]),e instanceof NodeList&&(e=Array.from(e));for(const s of e)s.classList.add(...t)}},q=(e,t)=>e.classList.contains(t);function b(e){return Symbol.iterator in e}function Y(e){return"length"in e?e.length>0:!e[Symbol.iterator]().next().done}const U=(e,t,s,a,o)=>{if(e==null||b(e)&&!Y(e))return;if(b(e)&&!(e instanceof HTMLElement)){for(const r of e)U(r,t,s,a,o);return}let n;n=typeof t=="string"?t.trim().split(" "):t,n.forEach(r=>{const d=W(e,r,s,a);if(!a.eventBindingMap[d]){const c=s.bind(a);return a.eventBindingMap[d]=c,e.addEventListener(r.trim(),c,o)}})};function W(e,t,s,a){return`${C(e,a)}#
          ${t.trim()}#
          ${C(s,a)}#
          ${C(a,a)}`.replace(/\n/gm,"").replace(/\s/g,"")}function C(e,t){let s;if(t.eventIdMap.has(e))s=t.eventIdMap.get(e);else{const a="xxxxxxxx".replace(/x/g,Le).toLowerCase();t.eventIdMap.set(e,a),s=a}return s}function Le(){return(100*Math.random()%36|0).toString(36)}const V=(e,t,s,a,o)=>{if(e==null||b(e)&&!Y(e))return void console.warn("no target found");if(b(e)&&!(e instanceof HTMLElement)){for(const r of e)V(r,t,s,a,o);return}let n;n=typeof t=="string"?t.trim().split(" "):t,n.forEach(r=>{const d=W(e,r,s,a),c=a.eventBindingMap[d];c&&(delete a.eventBindingMap[d],e.removeEventListener(r,c,o))})},O=(e,t)=>{N(e,t).forEach(s=>e.removeChild(s))},I=(e,t,s)=>new Promise(a=>{s!==void 0&&setTimeout(()=>a(),s),e.addEventListener(t,()=>a())});i.addClass=$,i.find=(e,t)=>e===null?null:e instanceof Document||e.shadowRoot===null||e.shadowRoot===void 0?e.querySelector(t):e.shadowRoot.querySelector(t),i.findAll=N,i.forEachNode=(e,t,s=window)=>{for(let a=0;a<e.length;a++)t.call(s,e[a],a,e)},i.getCurrentMQ=e=>{let t="";return e.forEach(s=>{!t.length&&window.matchMedia(s.query).matches&&(t=s.name)}),t},i.getInnerText=e=>e.innerText||e.textContent||"",i.getParent=(e,t)=>e.closest(t),i.getUniqueID=()=>Math.random().toString(36).substr(2,9),i.hasChild=(e,t)=>e.shadowRoot!==null&&e.shadowRoot!==void 0?e.shadowRoot.querySelector(t)!==null:e.querySelector(t)!==null,i.hasClass=q,i.inViewport=(e,t)=>{const s=e.getBoundingClientRect();let a={top:0,right:window.innerWidth||document.documentElement.clientWidth,bottom:window.innerHeight||document.documentElement.clientHeight,left:0};return t!==void 0&&(a=t.getBoundingClientRect()),s.top>=a.top&&s.right<=a.right&&s.bottom<=a.bottom&&s.left>=a.left},i.isNodeList=e=>!(e instanceof HTMLElement||e instanceof Window),i.onEvent=U,i.removeChildren=O,i.removeChilds=O,i.removeClass=B,i.removeEvent=V,i.toggleClass=(e,t,s)=>{if(e!=null){e instanceof Element&&(e=[e]),e instanceof NodeList&&(e=Array.from(e));for(const a of e)s===!0?$(a,t):q(a,t)||s===!1?B(a,t):$(a,t)}},w=i.waitFor=e=>new Promise(t=>{setTimeout(()=>t(),e)}),i.waitForAnimationEnd=function(e,t){return new Promise((s,a)=>{e.addEventListener("animationend",function o(n){n.target===e&&(t&&n.animationName!==t||(e.removeEventListener("animationend",o),s(n)))})})},i.waitForEvent=I,i.waitForInitialization=e=>{var t;return((t=e.state)===null||t===void 0?void 0:t.initialized)===!0?Promise.resolve():I(e,"kl-component-initialized",3e3)},i.waitForTransitionEnd=function(e,t){return new Promise((s,a)=>{e.addEventListener("transitionend",function o(n){n.target===e&&(t&&n.propertyName!==t||(e.removeEventListener("transitionend",o),s(n)))})})};class Se{constructor({beforeInit:t=()=>{},afterInit:s=()=>{},beforeLoadEager:a=()=>{},afterLoadEager:o=()=>{},beforeLoadLazy:n=()=>{},afterLoadLazy:r=()=>{},beforeLoadDelayed:d=()=>{},afterLoadDelayed:c=()=>{}}={}){this.beforeInit=t,this.afterInit=s,this.beforeLoadEager=a,this.afterLoadEager=o,this.beforeLoadLazy=n,this.afterLoadLazy=r,this.beforeLoadDelayed=d,this.afterLoadDelayed=c,this.init()}async init(){await this.beforeInit(),this.setupHlxWindowObject(),await this.loadEager(),await this.loadLazy(),await this.loadDelayed(),await this.afterInit()}setupHlxWindowObject(){}async loadEager(){await this.beforeLoadEager(),await w(300),await this.afterLoadEager()}async loadLazy(){await this.beforeLoadLazy(),await w(300),await this.afterLoadLazy()}async loadDelayed(){await this.beforeLoadDelayed(),await w(300),await this.afterLoadDelayed()}}(async function(){const e=new ge,t=new ye(e);await new be(t,e).init(),new Se({beforeInit:()=>{console.log("beforeInit")},afterInit:()=>{console.log("afterInit")},beforeLoadEager:()=>{console.log("beforeLoadEager")},afterLoadEager:()=>{console.log("afterLoadEager")},beforeLoadLazy:()=>{console.log("beforeLoadLazy")},afterLoadLazy:()=>{console.log("afterLoadLazy")},beforeLoadDelayed:()=>{console.log("beforeLoadDelayed")},afterLoadDelayed:()=>{console.log("afterLoadDelayed")}})})();
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=main.js.map

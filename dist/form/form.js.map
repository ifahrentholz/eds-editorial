{"version":3,"file":"form.js","sources":["../../src/blocks/form/form.ts"],"sourcesContent":["import { html, nothing, render } from 'lit';\n\ninterface FormField {\n  name: string;\n  type: any;\n  placeholder: string;\n  label: string;\n  id: string;\n  class: string;\n  rows?: number;\n  options?: string[];\n}\n\nconst createFiled = (item: any): FormField => {\n  return {\n    name: item.name,\n    type: item.type,\n    placeholder: item.placeholder,\n    label: item.label,\n    id: item.id,\n    class: item.class,\n    rows: item.rows || undefined,\n    options: item.options ? item.options.split(',').map((option: string) => option.trim()) : undefined,\n  };\n};\n\nconst fetchFormData = async () => {\n  const response = await fetch('form.json');\n  const data = await response.json();\n  const detailsData = data.data.map((item: any) => createFiled(item));\n  return detailsData;\n};\n\nconst renderInputField = (field: FormField) => {\n  return html`\n    <input\n      type=\"${field.type}\"\n      name=\"${field.name}\"\n      id=\"${field.id}\"\n      class=\"${field.class}\"\n      placeholder=\"${field.placeholder}\"\n    />\n  `;\n};\n\nconst renderButtonField = (field: FormField) => {\n  return html` <button type=\"${field.type}\" class=\"${field.class}\" id=\"${field.id}\">${field.label}</button> `;\n};\nconst renderTextareaField = (field: FormField) => {\n  return html`\n    <textarea\n      name=\"${field.name}\"\n      id=\"${field.id}\"\n      class=\"${field.class}\"\n      placeholder=\"${field.placeholder}\"\n      rows=\"${field.rows || 3}\"\n    ></textarea>\n  `;\n};\n\nconst renderSelectField = (field: FormField) => {\n  return html`\n    <select name=\"${field.name}\" id=\"${field.id}\" class=\"${field.class}\">\n      ${field.options?.map((option) => html`<option>${option}</option>`)}\n    </select>\n  `;\n};\n\nconst template = (templateArgs) => {\n  if (!templateArgs) return nothing;\n\n  return html`\n    <div style=\"padding: 35px\">\n      <h2>Form</h2>\n      <form method=\"post\">\n        <div class=\"row gtr-uniform\">\n          ${templateArgs.map(\n            (element) => html`\n              <div class=\"${element.class}\">\n                ${renderField(element)}\n                <label for=\"${element.id}\">${element.label}</label>\n              </div>\n            `\n          )}\n        </div>\n      </form>\n    </div>\n  `;\n};\n\nconst renderField = (field: FormField) => {\n  const fieldRenderers = {\n    text: renderInputField,\n    textarea: renderTextareaField,\n    select: renderSelectField,\n    button: renderButtonField,\n  };\n\n  const renderer = fieldRenderers[field.type] || renderInputField;\n  return renderer.call(this, field);\n};\nexport default async function (block: HTMLElement) {\n  const formData = await fetchFormData();\n  block.style.removeProperty('display');\n  render(template(formData), block);\n}\n"],"names":["createFiled","item","option","fetchFormData","renderInputField","field","html","renderButtonField","renderTextareaField","renderSelectField","_a","template","templateArgs","element","renderField","nothing","form","block","formData","render"],"mappings":"wEAaA,MAAMA,EAAeC,IACZ,CACL,KAAMA,EAAK,KACX,KAAMA,EAAK,KACX,YAAaA,EAAK,YAClB,MAAOA,EAAK,MACZ,GAAIA,EAAK,GACT,MAAOA,EAAK,MACZ,KAAMA,EAAK,MAAQ,OACnB,QAASA,EAAK,QAAUA,EAAK,QAAQ,MAAM,GAAG,EAAE,IAAKC,GAAmBA,EAAO,KAAM,CAAA,EAAI,MAAA,GAIvFC,EAAgB,UAEP,MADI,MAAM,MAAM,WAAW,GACZ,QACH,KAAK,IAAKF,GAAcD,EAAYC,CAAI,CAAC,EAI9DG,EAAoBC,GACjBC,iBAEKD,EAAM,IAAI,WACVA,EAAM,IAAI,SACZA,EAAM,EAAE,YACLA,EAAM,KAAK,kBACLA,EAAM,WAAW,KAKhCE,EAAqBF,GAClBC,kBAAsBD,EAAM,IAAI,YAAYA,EAAM,KAAK,SAASA,EAAM,EAAE,KAAKA,EAAM,KAAK,YAE3FG,EAAuBH,GACpBC,oBAEKD,EAAM,IAAI,SACZA,EAAM,EAAE,YACLA,EAAM,KAAK,kBACLA,EAAM,WAAW,WACxBA,EAAM,MAAQ,CAAC,gBAKvBI,EAAqBJ,GAAqB,OACvC,OAAAC,kBACWD,EAAM,IAAI,SAASA,EAAM,EAAE,YAAYA,EAAM,KAAK,MAC9DK,EAAAL,EAAM,UAAN,YAAAK,EAAe,IAAKR,GAAWI,YAAeJ,CAAM,YAAY,WAGxE,EAEMS,EAAYC,GACXA,EAEEN,4FAKGM,EAAa,IACZC,GAAYP,gBACGO,EAAQ,KAAK,KACvBC,EAAYD,CAAO,CAAC,gBACRA,EAAQ,EAAE,KAAKA,EAAQ,KAAK,gBAG/C,CAAA,sBAdiBE,EAqBtBD,EAAeT,IACI,CACrB,KAAMD,EACN,SAAUI,EACV,OAAQC,EACR,OAAQF,CAAA,EAGsBF,EAAM,IAAI,GAAKD,GAC/B,KAAK,OAAMC,CAAK,EAElC,eAAAW,EAA+BC,EAAoB,CAC3C,MAAAC,EAAW,MAAMf,IACjBc,EAAA,MAAM,eAAe,SAAS,EAC7BE,EAAAR,EAASO,CAAQ,EAAGD,CAAK,CAClC"}
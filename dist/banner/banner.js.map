{"version":3,"file":"banner.js","sources":["../../src/blocks/banner/banner.ts"],"sourcesContent":["import { html, render } from 'lit';\nimport { unsafeHTML } from 'lit-html/directives/unsafe-html.js';\nimport './banner.scss';\nimport { extractSidekickLibraryId, SidekickElement } from 'Helpers/sidekick/extractSidekickLibraryId';\nimport { getSidekickLibraryId } from 'Directives/sidekickLibraryId.ts';\n\ninterface TemplateArgs {\n  headline: SidekickElement;\n  subline: SidekickElement;\n  picture?: HTMLPictureElement;\n  texts: SidekickElement[];\n  buttons: SidekickElement[];\n}\n\nconst template = (args: TemplateArgs) => {\n  const { headline, subline, texts, buttons, picture } = args;\n  return html`\n    <div id=\"banner\">\n      <div class=\"content\">\n        <header>\n          <h1 ${getSidekickLibraryId(headline)}>${headline.innerHTML}</h1>\n          <p ${getSidekickLibraryId(subline)}>${subline.innerHTML}</p>\n        </header>\n        ${texts?.map((text) => html`<p ${getSidekickLibraryId(text)}>${text.innerHTML}</p>`)}\n        <ul class=\"actions\">\n          ${buttons?.map(\n            (button) =>\n              html` <li>\n                <a href=\"${button.href}\" class=\"button big\" ${getSidekickLibraryId(button)}>${button.innerHTML}</a>\n              </li>`\n          )}\n        </ul>\n      </div>\n      <span class=\"image object\"> ${picture ?? unsafeHTML(picture)} </span>\n    </div>\n  `;\n};\n\nexport default function (block: HTMLElement) {\n  const image = block.querySelector('img');\n  if (image) {\n    image.setAttribute('loading', 'eager');\n  }\n  const firstRow = block.querySelector('div');\n  const secondRow = block.children[1];\n  const headline = extractSidekickLibraryId(firstRow?.querySelector('h1'));\n  const subline = extractSidekickLibraryId(firstRow?.querySelector('h3'));\n  const texts = firstRow ? [...firstRow.querySelectorAll('p')].map((item) => extractSidekickLibraryId(item)) : [];\n  const buttons = secondRow ? [...secondRow.querySelectorAll('a')].map((item) => extractSidekickLibraryId(item)) : [];\n  const picture = firstRow?.querySelector('picture') || undefined;\n  const img = picture?.querySelector('img');\n  img?.setAttribute('loading', 'eager');\n\n  block.innerHTML = '';\n  block.style.removeProperty('display');\n  render(template({ headline, subline, texts, buttons, picture }), block);\n}\n"],"names":["template","args","headline","subline","texts","buttons","picture","html","getSidekickLibraryId","text","button","unsafeHTML","banner","block","image","firstRow","secondRow","extractSidekickLibraryId","item","img","render"],"mappings":"4PAcA,MAAMA,EAAYC,GAAuB,CACvC,KAAM,CAAE,SAAAC,EAAU,QAAAC,EAAS,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAY,EAAAL,EAChD,OAAAM,sDAIOC,EAAqBN,CAAQ,CAAC,IAAIA,EAAS,SAAS,WACrDM,EAAqBL,CAAO,CAAC,IAAIA,EAAQ,SAAS,gBAEvDC,GAAA,YAAAA,EAAO,IAAKK,GAASF,OAAUC,EAAqBC,CAAI,CAAC,IAAIA,EAAK,SAAS,OAAO,uBAEhFJ,GAAA,YAAAA,EAAS,IACRK,GACCH,iBACaG,EAAO,IAAI,wBAAwBF,EAAqBE,CAAM,CAAC,IAAIA,EAAO,SAAS,YAEnG,yCAGyBJ,GAAWK,EAAWL,CAAO,CAAC,eAGlE,EAEA,SAAAM,EAAyBC,EAAoB,CACrC,MAAAC,EAAQD,EAAM,cAAc,KAAK,EACnCC,GACIA,EAAA,aAAa,UAAW,OAAO,EAEjC,MAAAC,EAAWF,EAAM,cAAc,KAAK,EACpCG,EAAYH,EAAM,SAAS,CAAC,EAC5BX,EAAWe,EAAyBF,GAAA,YAAAA,EAAU,cAAc,KAAK,EACjEZ,EAAUc,EAAyBF,GAAA,YAAAA,EAAU,cAAc,KAAK,EAChEX,EAAQW,EAAW,CAAC,GAAGA,EAAS,iBAAiB,GAAG,CAAC,EAAE,IAAKG,GAASD,EAAyBC,CAAI,CAAC,EAAI,CAAA,EACvGb,EAAUW,EAAY,CAAC,GAAGA,EAAU,iBAAiB,GAAG,CAAC,EAAE,IAAKE,GAASD,EAAyBC,CAAI,CAAC,EAAI,CAAA,EAC3GZ,GAAUS,GAAA,YAAAA,EAAU,cAAc,aAAc,OAChDI,EAAMb,GAAA,YAAAA,EAAS,cAAc,OAC9Ba,GAAA,MAAAA,EAAA,aAAa,UAAW,SAE7BN,EAAM,UAAY,GACZA,EAAA,MAAM,eAAe,SAAS,EAC7BO,EAAApB,EAAS,CAAE,SAAAE,EAAU,QAAAC,EAAS,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAA,CAAS,EAAGO,CAAK,CACxE"}
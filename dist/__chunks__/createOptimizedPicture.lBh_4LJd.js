import{i as w}from"./isSidekickLibraryActive.iN4ARc8o.js";function f(){if(!w())return window.location.href;const{location:r}=window.parent,a=new URLSearchParams(r.search);return`${r.origin}${a.get("path")}`}function g(r){if(r.src==="")return;const{src:a,alt:d,eager:m=!1,width:u,height:h,breakpoints:c=[{media:"(min-width: 600px)",width:2e3},{width:750}]}=r,l=new URL(a,f()),s=document.createElement("picture"),{pathname:n}=l,o=n.substring(n.lastIndexOf(".")+1);return c.forEach(e=>{const i=document.createElement("source");e.media&&i.setAttribute("media",e.media),i.setAttribute("type","image/webp"),i.setAttribute("srcset",`${n}?width=${e.width}&format=webply&optimize=medium`),s.appendChild(i)}),c.forEach((e,i)=>{if(i<c.length-1){const t=document.createElement("source");e.media&&t.setAttribute("media",e.media),t.setAttribute("srcset",`${n}?width=${e.width}&format=${o}&optimize=medium`),s.appendChild(t)}else{const t=document.createElement("img");t.setAttribute("loading",m?"eager":"lazy"),t.setAttribute("alt",d),t.setAttribute("width",u.toString()),t.setAttribute("height",h.toString()),s.appendChild(t),t.setAttribute("src",`${n}?width=${e.width}&format=${o}&optimize=medium`)}}),s}export{g as c};
//# sourceMappingURL=createOptimizedPicture.lBh_4LJd.js.map

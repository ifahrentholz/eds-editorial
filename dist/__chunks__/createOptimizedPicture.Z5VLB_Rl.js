import{F as w,m as u}from"./fetch.service.DgmLKlDK.js";import{i as f}from"./isSidekickLibraryActive.U-fJCMMj.js";class g{async getPlaceHolder(o){try{const c="/placeholder.json",h={cacheOptions:{cacheType:"runtime"}},n=(await w.fetchJson(c,h)).data.find(t=>t.Key===o);if(!n){const t=`PlaceholderService: Placeholder with key ${o} could not be found.`;throw u.error(t),new Error(t)}return n.Text}catch(c){throw u.error("PlaceholderService: Error fetching placeholder data:",c),c}}}const P=new g;function $(){if(!f())return window.location.href;const{location:i}=window.parent,o=new URLSearchParams(i.search);return`${i.origin}${o.get("path")}`}function S(i){if(i.src==="")return;const{src:o,alt:c,eager:h=!1,width:l,height:n,breakpoints:t=[{media:"(min-width: 600px)",width:2e3},{width:750}]}=i,p=new URL(o,$()),d=document.createElement("picture"),{pathname:a}=p,m=a.substring(a.lastIndexOf(".")+1);return t.forEach(r=>{const s=document.createElement("source");r.media&&s.setAttribute("media",r.media),s.setAttribute("type","image/webp"),s.setAttribute("srcset",`${a}?width=${r.width}&format=webply&optimize=medium`),d.appendChild(s)}),t.forEach((r,s)=>{if(s<t.length-1){const e=document.createElement("source");r.media&&e.setAttribute("media",r.media),e.setAttribute("srcset",`${a}?width=${r.width}&format=${m}&optimize=medium`),d.appendChild(e)}else{const e=document.createElement("img");e.setAttribute("loading",h?"eager":"lazy"),e.setAttribute("alt",c),e.setAttribute("width",l.toString()),e.setAttribute("height",n.toString()),d.appendChild(e),e.setAttribute("src",`${a}?width=${r.width}&format=${m}&optimize=medium`)}}),d}export{P,S as c};
//# sourceMappingURL=createOptimizedPicture.Z5VLB_Rl.js.map

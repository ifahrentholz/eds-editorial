import{i as w}from"./isSidekickLibraryActive.iN4ARc8o.js";function f(){if(!w())return window.location.href;const{location:i}=window.parent,s=new URLSearchParams(i.search);return`${i.origin}${s.get("path")}`}function g(i){if(i.src===""||i.src.startsWith("/default-meta-image.png"))return;const{src:s,alt:d,eager:m=!1,width:u,height:h,breakpoints:c=[{media:"(min-width: 600px)",width:2e3},{width:750}]}=i,l=new URL(s,f()),n=document.createElement("picture"),{pathname:a}=l,o=a.substring(a.lastIndexOf(".")+1);return c.forEach(e=>{const r=document.createElement("source");e.media&&r.setAttribute("media",e.media),r.setAttribute("type","image/webp"),r.setAttribute("srcset",`${a}?width=${e.width}&format=webply&optimize=medium`),n.appendChild(r)}),c.forEach((e,r)=>{if(r<c.length-1){const t=document.createElement("source");e.media&&t.setAttribute("media",e.media),t.setAttribute("srcset",`${a}?width=${e.width}&format=${o}&optimize=medium`),n.appendChild(t)}else{const t=document.createElement("img");t.setAttribute("loading",m?"eager":"lazy"),t.setAttribute("alt",d),t.setAttribute("width",u.toString()),t.setAttribute("height",h.toString()),n.appendChild(t),t.setAttribute("src",`${a}?width=${e.width}&format=${o}&optimize=medium`)}}),n}export{g as c};
//# sourceMappingURL=createOptimizedPicture.ZKRa4QzV.js.map

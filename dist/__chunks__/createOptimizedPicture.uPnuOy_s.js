import{m as u}from"./index.module.oyeuBRIM.js";import{F as w}from"./fetch.service.0DQJksbZ.js";import{i as f}from"./isSidekickLibraryActive.iN4ARc8o.js";class g{async getPlaceHolder(i){try{const o="/placeholder.json",h={cacheOptions:{cacheType:"runtime"}},n=(await w.fetchJson(o,h)).data.find(t=>t.Key===i);if(!n){const t=`PlaceholderService: Placeholder with key ${i} could not be found.`;throw u.error(t),new Error(t)}return n.Text}catch(o){throw u.error("PlaceholderService: Error fetching placeholder data:",o),o}}}const S=new g;function $(){if(!f())return window.location.href;const{location:s}=window.parent,i=new URLSearchParams(s.search);return`${s.origin}${i.get("path")}`}function y(s){const{src:i,alt:o,eager:h=!1,width:m,height:n,breakpoints:t=[{media:"(min-width: 600px)",width:2e3},{width:750}]}=s,p=new URL(i,$()),d=document.createElement("picture"),{pathname:a}=p,l=a.substring(a.lastIndexOf(".")+1);return t.forEach(r=>{const c=document.createElement("source");r.media&&c.setAttribute("media",r.media),c.setAttribute("type","image/webp"),c.setAttribute("srcset",`${a}?width=${r.width}&format=webply&optimize=medium`),d.appendChild(c)}),t.forEach((r,c)=>{if(c<t.length-1){const e=document.createElement("source");r.media&&e.setAttribute("media",r.media),e.setAttribute("srcset",`${a}?width=${r.width}&format=${l}&optimize=medium`),d.appendChild(e)}else{const e=document.createElement("img");e.setAttribute("loading",h?"eager":"lazy"),e.setAttribute("alt",o),e.setAttribute("width",m.toString()),e.setAttribute("height",n.toString()),d.appendChild(e),e.setAttribute("src",`${a}?width=${r.width}&format=${l}&optimize=medium`)}}),d}export{S as P,y as c};
//# sourceMappingURL=createOptimizedPicture.uPnuOy_s.js.map

{"version":3,"file":"table.js","sources":["../../src/blocks/table/table.ts"],"sourcesContent":["import { html, render } from 'lit';\nimport { unsafeHTML } from 'lit-html/directives/unsafe-html.js';\nimport './table.scss';\n\ninterface TemplateArgs {\n  headers: string[];\n  data: string[][];\n}\n\nconst template = (args: TemplateArgs) => {\n  const { headers, data } = args;\n  return html`\n    <div class=\"table-wrapper\">\n      <table>\n        <thead>\n          <tr>\n            ${headers.map((header) => html`<th>${unsafeHTML(header)}</th>`)}\n          </tr>\n        </thead>\n        <tbody>\n          ${data.map(\n            (row) => html`\n              <tr>\n                ${row.map((cell) => html`<td>${unsafeHTML(cell)}</td>`)}\n              </tr>\n            `\n          )}\n        </tbody>\n      </table>\n    </div>\n  `;\n};\n\nexport default function decorate(block: HTMLElement) {\n  const headers: string[] = [];\n  const data: string[][] = [];\n\n  [...block.children].forEach((child, index) => {\n    if (index === 0) {\n      headers.push(...Array.from(child.querySelectorAll('div')).map((cell) => cell.innerHTML));\n    } else {\n      data.push(Array.from(child.querySelectorAll('div')).map((cell) => cell.innerHTML));\n    }\n  });\n\n  block.innerHTML = '';\n\n  block.style.removeProperty('display');\n  render(template({ headers, data }), block);\n}\n"],"names":["template","args","headers","data","html","header","unsafeHTML","row","cell","decorate","block","child","index","render"],"mappings":"2HASA,MAAMA,EAAYC,GAAuB,CACjC,KAAA,CAAE,QAAAC,EAAS,KAAAC,CAAS,EAAAF,EACnB,OAAAG,iDAKKF,EAAQ,IAAKG,GAAWD,QAAWE,EAAWD,CAAM,CAAC,OAAO,CAAC,uBAI/DF,EAAK,IACJI,GAAQH,QAEHG,EAAI,IAAKC,GAASJ,QAAWE,EAAWE,CAAI,CAAC,OAAO,CAAC,OAG5D,CAAA,wBAKX,EAEA,SAAwBC,EAASC,EAAoB,CACnD,MAAMR,EAAoB,CAAA,EACpBC,EAAmB,CAAA,EAEzB,CAAC,GAAGO,EAAM,QAAQ,EAAE,QAAQ,CAACC,EAAOC,IAAU,CACxCA,IAAU,EACZV,EAAQ,KAAK,GAAG,MAAM,KAAKS,EAAM,iBAAiB,KAAK,CAAC,EAAE,IAAKH,GAASA,EAAK,SAAS,CAAC,EAEvFL,EAAK,KAAK,MAAM,KAAKQ,EAAM,iBAAiB,KAAK,CAAC,EAAE,IAAKH,GAASA,EAAK,SAAS,CAAC,CACnF,CACD,EAEDE,EAAM,UAAY,GAEZA,EAAA,MAAM,eAAe,SAAS,EACpCG,EAAOb,EAAS,CAAE,QAAAE,EAAS,KAAAC,CAAM,CAAA,EAAGO,CAAK,CAC3C"}
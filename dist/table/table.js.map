{"version":3,"file":"table.js","sources":["../../src/blocks/table/table.ts"],"sourcesContent":["import { html, render } from 'lit';\n\ninterface TemplateArgs {\n  text?: HTMLParagraphElement;\n  description?: HTMLParagraphElement;\n  price?: HTMLParagraphElement;\n  input?: Input[];\n  sum?: number;\n}\n\ninterface Input {\n  tableName?: string;\n  tableDescription?: string;\n  tablePrice?: string;\n}\n\nconst template = ({ text, description, price, input, sum }: TemplateArgs) => {\n  return html`\n    <table>\n      <thead>\n        <tr>\n          <th>${text}</th>\n          <th>${description}</th>\n          <th>${price}</th>\n        </tr>\n      </thead>\n      <tbody>\n        ${input?.map((item) => {\n          return html`\n            <tr>\n              <td>${item.tableName}</td>\n              <td>${item.tableDescription}</td>\n              <td>${item.tablePrice}</td>\n            </tr>\n          `;\n        })}\n      </tbody>\n      <tfoot>\n        <tr>\n          <td colspan=\"2\"></td>\n          <td>${sum}</td>\n        </tr>\n      </tfoot>\n    </table>\n  `;\n};\n\nexport default function (block: HTMLElement) {\n  const firstRow = block.querySelector('div');\n\n  const text = firstRow?.querySelector('.table div div:first-child');\n  const description = firstRow?.querySelector('div:nth-child(2) strong');\n  const price = firstRow?.querySelector('.table div div:last-child strong');\n\n  const input: Input[] = Array.from(document.querySelectorAll('.table > div:not(:first-child)')).map((item) => {\n    return {\n      tableName: item.querySelector('div:first-child')?.innerHTML as string,\n      tableDescription: item.querySelector('div:nth-child(2)')?.innerHTML as string,\n      tablePrice: item.querySelector('div:last-child')?.innerHTML as string,\n    };\n  });\n\n  const result = input.reduce((total, item) => total + parseFloat(item.tablePrice), 0);\n  const sum = parseFloat(result.toFixed(2));\n\n  block.innerHTML = '';\n  block.style.removeProperty('display');\n  render(template({ text, description, price, input, sum }), block);\n}\n"],"names":["template","text","description","price","input","sum","html","item","table","block","firstRow","_a","_b","_c","result","total","render"],"mappings":"iEAgBA,MAAMA,EAAW,CAAC,CAAE,KAAAC,EAAM,YAAAC,EAAa,MAAAC,EAAO,MAAAC,EAAO,IAAAC,KAC5CC,0BAIOL,CAAI,YACJC,CAAW,YACXC,CAAK,4BAIXC,GAAA,YAAAA,EAAO,IAAKG,GACLD,YAEGC,EAAK,SAAS,YACdA,EAAK,gBAAgB,YACrBA,EAAK,UAAU,aAGzB,+CAKMF,CAAG,6BAOnB,SAAAG,EAAyBC,EAAoB,CACrC,MAAAC,EAAWD,EAAM,cAAc,KAAK,EAEpCR,EAAOS,GAAA,YAAAA,EAAU,cAAc,8BAC/BR,EAAcQ,GAAA,YAAAA,EAAU,cAAc,2BACtCP,EAAQO,GAAA,YAAAA,EAAU,cAAc,oCAEhCN,EAAiB,MAAM,KAAK,SAAS,iBAAiB,gCAAgC,CAAC,EAAE,IAAKG,GAAS,WACpG,MAAA,CACL,WAAWI,EAAAJ,EAAK,cAAc,iBAAiB,IAApC,YAAAI,EAAuC,UAClD,kBAAkBC,EAAAL,EAAK,cAAc,kBAAkB,IAArC,YAAAK,EAAwC,UAC1D,YAAYC,EAAAN,EAAK,cAAc,gBAAgB,IAAnC,YAAAM,EAAsC,SAAA,CACpD,CACD,EAEKC,EAASV,EAAM,OAAO,CAACW,EAAOR,IAASQ,EAAQ,WAAWR,EAAK,UAAU,EAAG,CAAC,EAC7EF,EAAM,WAAWS,EAAO,QAAQ,CAAC,CAAC,EAExCL,EAAM,UAAY,GACZA,EAAA,MAAM,eAAe,SAAS,EAC7BO,EAAAhB,EAAS,CAAE,KAAAC,EAAM,YAAAC,EAAa,MAAAC,EAAO,MAAAC,EAAO,IAAAC,CAAA,CAAK,EAAGI,CAAK,CAClE"}
{"version":3,"file":"table.js","sources":["../../src/blocks/table/table.ts"],"sourcesContent":["import { html, render } from 'lit';\n\ninterface TableCell {\n  text: string;\n  styles?: string;\n}\n\ninterface TemplateArgs {\n  headers: TableCell[];\n  data: TableCell[][];\n}\n\nconst template = (args: TemplateArgs) => {\n  const { headers, data } = args;\n  return html`\n    <div class=\"table-wrapper\">\n      <table>\n        <thead>\n          <tr>\n            ${headers.map((header) => html`<th style=\"${header.styles || ''}\">${header.text}</th>`)}\n          </tr>\n        </thead>\n        <tbody>\n          ${data.map(\n            (row) => html`\n              <tr>\n                ${row.map((cell) => html`<td style=\"${cell.styles || ''}\">${cell.text}</td>`)}\n              </tr>\n            `\n          )}\n        </tbody>\n      </table>\n    </div>\n  `;\n};\n\nexport default function decorate(block: HTMLElement) {\n  const headers: TableCell[] = [];\n  const data: TableCell[][] = [];\n\n  [...block.children].forEach((child, index) => {\n    if (index === 0) {\n      headers.push(\n        ...Array.from(child.querySelectorAll('div')).map((cell) => ({\n          text: cell.textContent || cell.innerText,\n          styles: '',\n        }))\n      );\n    } else {\n      data.push(\n        Array.from(child.querySelectorAll('div')).map((cell) => ({\n          text: cell.innerText,\n          styles: '',\n        }))\n      );\n    }\n  });\n\n  block.innerHTML = '';\n\n  block.style.removeProperty('display');\n  render(template({ headers, data }), block);\n}\n"],"names":["template","args","headers","data","html","header","row","cell","decorate","block","child","index","render"],"mappings":"iEAYA,MAAMA,EAAYC,GAAuB,CACjC,KAAA,CAAE,QAAAC,EAAS,KAAAC,CAAS,EAAAF,EACnB,OAAAG,iDAKKF,EAAQ,IAAKG,GAAWD,eAAkBC,EAAO,QAAU,EAAE,KAAKA,EAAO,IAAI,OAAO,CAAC,uBAIvFF,EAAK,IACJG,GAAQF,QAEHE,EAAI,IAAKC,GAASH,eAAkBG,EAAK,QAAU,EAAE,KAAKA,EAAK,IAAI,OAAO,CAAC,OAGlF,CAAA,wBAKX,EAEA,SAAwBC,EAASC,EAAoB,CACnD,MAAMP,EAAuB,CAAA,EACvBC,EAAsB,CAAA,EAE5B,CAAC,GAAGM,EAAM,QAAQ,EAAE,QAAQ,CAACC,EAAOC,IAAU,CACxCA,IAAU,EACJT,EAAA,KACN,GAAG,MAAM,KAAKQ,EAAM,iBAAiB,KAAK,CAAC,EAAE,IAAKH,IAAU,CAC1D,KAAMA,EAAK,aAAeA,EAAK,UAC/B,OAAQ,EAAA,EACR,CAAA,EAGCJ,EAAA,KACH,MAAM,KAAKO,EAAM,iBAAiB,KAAK,CAAC,EAAE,IAAKH,IAAU,CACvD,KAAMA,EAAK,UACX,OAAQ,EAAA,EACR,CAAA,CAEN,CACD,EAEDE,EAAM,UAAY,GAEZA,EAAA,MAAM,eAAe,SAAS,EACpCG,EAAOZ,EAAS,CAAE,QAAAE,EAAS,KAAAC,CAAM,CAAA,EAAGM,CAAK,CAC3C"}